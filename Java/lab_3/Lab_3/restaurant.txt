"2023-12-21 08:13:02 [restartedMain] INFO  com.example.Lab_3.Lab3Application - Starting Lab3Application using Java 20.0.2 on NIKITA_PV with PID 18516 (C:\Users\Nikita\Desktop\Labs_3-1\Java\lab_3\Lab_3\target\classes started by Nikita in C:\Users\Nikita\Desktop\Labs_3-1\Java\lab_3\Lab_3)
""2023-12-21 08:13:02 [restartedMain] INFO  com.example.Lab_3.Lab3Application - No active profile set, falling back to 1 default profile: "default"
""2023-12-21 08:13:02 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
""2023-12-21 08:13:02 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
""2023-12-21 08:13:04 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2023-12-21 08:13:04 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 107 ms. Found 4 JPA repository interfaces.
""2023-12-21 08:13:05 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
""2023-12-21 08:13:05 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
""2023-12-21 08:13:05 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.65]
""2023-12-21 08:13:05 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
""2023-12-21 08:13:05 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3313 ms
""2023-12-21 08:13:06 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
""2023-12-21 08:13:06 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.11.Final
""2023-12-21 08:13:06 [restartedMain] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
""2023-12-21 08:13:07 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
""2023-12-21 08:13:07 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
""2023-12-21 08:13:07 [restartedMain] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
""2023-12-21 08:13:09 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "alter table user_role add constraint FKj345gk1bovqvfame88rcx7yyx foreign key (user_id) references users (id)" via JDBC Statement
"org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table user_role add constraint FKj345gk1bovqvfame88rcx7yyx foreign key (user_id) references users (id)" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:581)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:526)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:452)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:263)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:123)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:196)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.example.Lab_3.Lab3Application.main(Lab3Application.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: java.sql.SQLException: Referencing column 'user_id' and referenced column 'id' in foreign key constraint 'FKj345gk1bovqvfame88rcx7yyx' are incompatible.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 36 common frames omitted
"2023-12-21 08:13:09 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2023-12-21 08:13:09 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2023-12-21 08:13:10 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2023-12-21 08:13:10 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5df100c2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@353dca56, org.springframework.security.web.context.SecurityContextPersistenceFilter@2b5f411b, org.springframework.security.web.header.HeaderWriterFilter@5f69b956, org.springframework.security.web.csrf.CsrfFilter@6a333c1f, org.springframework.security.web.authentication.logout.LogoutFilter@5bb331be, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4f20aae6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@230b4b43, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@98fb400, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@e6b00a7, org.springframework.security.web.session.SessionManagementFilter@4e94cee8, org.springframework.security.web.access.ExceptionTranslationFilter@65301feb, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@509d89f5]
""2023-12-21 08:13:12 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
""2023-12-21 08:13:12 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
""2023-12-21 08:13:12 [restartedMain] INFO  com.example.Lab_3.Lab3Application - Started Lab3Application in 10.557 seconds (JVM running for 12.091)
""2023-12-21 08:13:41 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
""2023-12-21 08:13:41 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
""2023-12-21 08:13:41 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
""2023-12-21 08:13:46 [restartedMain] INFO  com.example.Lab_3.Lab3Application - Starting Lab3Application using Java 20.0.2 on NIKITA_PV with PID 14824 (C:\Users\Nikita\Desktop\Labs_3-1\Java\lab_3\Lab_3\target\classes started by Nikita in C:\Users\Nikita\Desktop\Labs_3-1\Java\lab_3\Lab_3)
""2023-12-21 08:13:46 [restartedMain] INFO  com.example.Lab_3.Lab3Application - No active profile set, falling back to 1 default profile: "default"
""2023-12-21 08:13:46 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
""2023-12-21 08:13:46 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
""2023-12-21 08:13:48 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2023-12-21 08:13:48 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 96 ms. Found 4 JPA repository interfaces.
""2023-12-21 08:13:49 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
""2023-12-21 08:13:49 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
""2023-12-21 08:13:49 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.65]
""2023-12-21 08:13:49 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
""2023-12-21 08:13:49 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3248 ms
""2023-12-21 08:13:50 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
""2023-12-21 08:13:50 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.11.Final
""2023-12-21 08:13:50 [restartedMain] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
""2023-12-21 08:13:50 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
""2023-12-21 08:13:51 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
""2023-12-21 08:13:51 [restartedMain] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
""2023-12-21 08:13:52 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "alter table user_role add constraint FKj345gk1bovqvfame88rcx7yyx foreign key (user_id) references users (id)" via JDBC Statement
"org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table user_role add constraint FKj345gk1bovqvfame88rcx7yyx foreign key (user_id) references users (id)" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:581)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:526)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:452)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:263)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:123)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:196)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.example.Lab_3.Lab3Application.main(Lab3Application.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: java.sql.SQLException: Referencing column 'user_id' and referenced column 'id' in foreign key constraint 'FKj345gk1bovqvfame88rcx7yyx' are incompatible.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 36 common frames omitted
"2023-12-21 08:13:52 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2023-12-21 08:13:52 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2023-12-21 08:13:53 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2023-12-21 08:13:54 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4b7e4e57, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4485d148, org.springframework.security.web.context.SecurityContextPersistenceFilter@1a75b472, org.springframework.security.web.header.HeaderWriterFilter@4c2f7441, org.springframework.security.web.csrf.CsrfFilter@1f2757dc, org.springframework.security.web.authentication.logout.LogoutFilter@71bfed81, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2562fc02, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3f201f85, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@62bda90b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7a288ed4, org.springframework.security.web.session.SessionManagementFilter@1081c910, org.springframework.security.web.access.ExceptionTranslationFilter@289b31d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2f1c1593]
""2023-12-21 08:13:55 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
""2023-12-21 08:13:55 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
""2023-12-21 08:13:55 [restartedMain] INFO  com.example.Lab_3.Lab3Application - Started Lab3Application in 9.716 seconds (JVM running for 11.23)
""2023-12-21 08:14:07 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
""2023-12-21 08:14:07 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
""2023-12-21 08:14:07 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 4 ms
""2023-12-21 08:14:07 [http-nio-8080-exec-1] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:14:07 [http-nio-8080-exec-1] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:14:07 [http-nio-8080-exec-1] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 08:14:08 [http-nio-8080-exec-1] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 08:14:40 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
""2023-12-21 08:14:40 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
""2023-12-21 08:14:40 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
""2023-12-21 08:14:44 [restartedMain] INFO  com.example.Lab_3.Lab3Application - Starting Lab3Application using Java 20.0.2 on NIKITA_PV with PID 20224 (C:\Users\Nikita\Desktop\Labs_3-1\Java\lab_3\Lab_3\target\classes started by Nikita in C:\Users\Nikita\Desktop\Labs_3-1\Java\lab_3\Lab_3)
""2023-12-21 08:14:44 [restartedMain] INFO  com.example.Lab_3.Lab3Application - No active profile set, falling back to 1 default profile: "default"
""2023-12-21 08:14:44 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
""2023-12-21 08:14:44 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
""2023-12-21 08:14:45 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2023-12-21 08:14:46 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 88 ms. Found 4 JPA repository interfaces.
""2023-12-21 08:14:47 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
""2023-12-21 08:14:47 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
""2023-12-21 08:14:47 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.65]
""2023-12-21 08:14:47 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
""2023-12-21 08:14:47 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2787 ms
""2023-12-21 08:14:47 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
""2023-12-21 08:14:47 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.11.Final
""2023-12-21 08:14:48 [restartedMain] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
""2023-12-21 08:14:48 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
""2023-12-21 08:14:48 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
""2023-12-21 08:14:48 [restartedMain] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
""2023-12-21 08:14:50 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "alter table user_role add constraint FKj345gk1bovqvfame88rcx7yyx foreign key (user_id) references users (id)" via JDBC Statement
"org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table user_role add constraint FKj345gk1bovqvfame88rcx7yyx foreign key (user_id) references users (id)" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:581)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:526)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:452)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:263)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:123)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:196)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.example.Lab_3.Lab3Application.main(Lab3Application.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: java.sql.SQLException: Referencing column 'user_id' and referenced column 'id' in foreign key constraint 'FKj345gk1bovqvfame88rcx7yyx' are incompatible.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 36 common frames omitted
"2023-12-21 08:14:50 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2023-12-21 08:14:50 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2023-12-21 08:14:51 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2023-12-21 08:14:51 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@360e481c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@390f9e68, org.springframework.security.web.context.SecurityContextPersistenceFilter@31a79001, org.springframework.security.web.header.HeaderWriterFilter@39a5c279, org.springframework.security.web.csrf.CsrfFilter@5bd04132, org.springframework.security.web.authentication.logout.LogoutFilter@3411e138, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@60820006, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@55c96f9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@15eb474e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@40f38f60, org.springframework.security.web.session.SessionManagementFilter@3a280ec3, org.springframework.security.web.access.ExceptionTranslationFilter@3997504f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@54252793]
""2023-12-21 08:14:52 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
""2023-12-21 08:14:52 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
""2023-12-21 08:14:52 [restartedMain] INFO  com.example.Lab_3.Lab3Application - Started Lab3Application in 8.895 seconds (JVM running for 10.149)
""2023-12-21 08:14:55 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
""2023-12-21 08:14:55 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
""2023-12-21 08:14:55 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
""2023-12-21 08:14:55 [http-nio-8080-exec-1] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:14:55 [http-nio-8080-exec-1] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:14:55 [http-nio-8080-exec-1] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 08:14:56 [http-nio-8080-exec-1] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 08:15:09 [http-nio-8080-exec-3] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:15:09 [http-nio-8080-exec-3] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:15:09 [http-nio-8080-exec-3] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 08:15:09 [http-nio-8080-exec-3] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 08:16:05 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
""2023-12-21 08:16:05 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
""2023-12-21 08:16:05 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
""2023-12-21 08:16:09 [restartedMain] INFO  com.example.Lab_3.Lab3Application - Starting Lab3Application using Java 20.0.2 on NIKITA_PV with PID 16240 (C:\Users\Nikita\Desktop\Labs_3-1\Java\lab_3\Lab_3\target\classes started by Nikita in C:\Users\Nikita\Desktop\Labs_3-1\Java\lab_3\Lab_3)
""2023-12-21 08:16:09 [restartedMain] INFO  com.example.Lab_3.Lab3Application - No active profile set, falling back to 1 default profile: "default"
""2023-12-21 08:16:10 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
""2023-12-21 08:16:10 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
""2023-12-21 08:16:11 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2023-12-21 08:16:11 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 92 ms. Found 4 JPA repository interfaces.
""2023-12-21 08:16:12 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
""2023-12-21 08:16:12 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
""2023-12-21 08:16:12 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.65]
""2023-12-21 08:16:12 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
""2023-12-21 08:16:12 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2803 ms
""2023-12-21 08:16:13 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
""2023-12-21 08:16:13 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.11.Final
""2023-12-21 08:16:13 [restartedMain] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
""2023-12-21 08:16:13 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
""2023-12-21 08:16:14 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
""2023-12-21 08:16:14 [restartedMain] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
""2023-12-21 08:16:15 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "alter table user_role add constraint FKj345gk1bovqvfame88rcx7yyx foreign key (user_id) references users (id)" via JDBC Statement
"org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table user_role add constraint FKj345gk1bovqvfame88rcx7yyx foreign key (user_id) references users (id)" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:581)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:526)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:452)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:263)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:123)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:196)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.example.Lab_3.Lab3Application.main(Lab3Application.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: java.sql.SQLException: Referencing column 'user_id' and referenced column 'id' in foreign key constraint 'FKj345gk1bovqvfame88rcx7yyx' are incompatible.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 36 common frames omitted
"2023-12-21 08:16:15 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2023-12-21 08:16:15 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2023-12-21 08:16:16 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2023-12-21 08:16:16 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@c2ccadc, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@596c27a9, org.springframework.security.web.context.SecurityContextPersistenceFilter@4603bedd, org.springframework.security.web.header.HeaderWriterFilter@177651ac, org.springframework.security.web.csrf.CsrfFilter@7c2e2ad, org.springframework.security.web.authentication.logout.LogoutFilter@1a5e8319, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5f2c899, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1b4806a3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2e591cc5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5dbc2f17, org.springframework.security.web.session.SessionManagementFilter@724dbd3b, org.springframework.security.web.access.ExceptionTranslationFilter@40212c04, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@59c2bda0]
""2023-12-21 08:16:18 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
""2023-12-21 08:16:18 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
""2023-12-21 08:16:18 [restartedMain] INFO  com.example.Lab_3.Lab3Application - Started Lab3Application in 9.027 seconds (JVM running for 10.279)
""2023-12-21 08:16:21 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
""2023-12-21 08:16:21 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
""2023-12-21 08:16:21 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
""2023-12-21 08:16:21 [http-nio-8080-exec-1] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:16:21 [http-nio-8080-exec-1] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:16:21 [http-nio-8080-exec-1] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 08:16:21 [http-nio-8080-exec-1] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 08:16:25 [http-nio-8080-exec-3] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:16:25 [http-nio-8080-exec-3] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:16:43 [http-nio-8080-exec-6] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:16:43 [http-nio-8080-exec-6] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:17:07 [http-nio-8080-exec-9] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:17:07 [http-nio-8080-exec-9] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:17:07 [http-nio-8080-exec-9] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 08:17:07 [http-nio-8080-exec-9] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 08:17:09 [http-nio-8080-exec-2] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:17:09 [http-nio-8080-exec-2] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:17:13 [http-nio-8080-exec-5] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:17:13 [http-nio-8080-exec-5] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:17:13 [http-nio-8080-exec-5] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(List com.example.Lab_3.services.ProductService.listProductsforall())
""2023-12-21 08:17:13 [http-nio-8080-exec-5] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(List com.example.Lab_3.services.ProductService.listProductsforall())
""2023-12-21 08:17:15 [http-nio-8080-exec-8] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:17:15 [http-nio-8080-exec-8] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:17:16 [http-nio-8080-exec-1] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(List com.example.Lab_3.services.UserService.list())
""2023-12-21 08:17:16 [http-nio-8080-exec-1] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(List com.example.Lab_3.services.UserService.list())
""2023-12-21 08:17:16 [http-nio-8080-exec-1] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:17:16 [http-nio-8080-exec-1] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:17:21 [http-nio-8080-exec-4] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:17:21 [http-nio-8080-exec-4] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:17:23 [http-nio-8080-exec-8] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:17:23 [http-nio-8080-exec-8] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:17:24 [http-nio-8080-exec-1] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:17:24 [http-nio-8080-exec-1] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:17:24 [http-nio-8080-exec-1] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 08:17:24 [http-nio-8080-exec-1] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 08:17:39 [http-nio-8080-exec-4] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:17:39 [http-nio-8080-exec-4] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:17:41 [http-nio-8080-exec-7] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:17:41 [http-nio-8080-exec-7] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:17:41 [http-nio-8080-exec-7] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(List com.example.Lab_3.services.ProductService.listProductsforall())
""2023-12-21 08:17:41 [http-nio-8080-exec-7] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(List com.example.Lab_3.services.ProductService.listProductsforall())
""2023-12-21 08:22:49 [http-nio-8080-exec-2] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(void com.example.Lab_3.services.ProductService.saveProduct(Principal,Product,MultipartFile,MultipartFile,MultipartFile))
""2023-12-21 08:22:49 [http-nio-8080-exec-2] INFO  c.e.Lab_3.services.ProductService - Saving new Product. Title:  ,  ; Author email: nikitakorshun@mail.ru
""2023-12-21 08:22:49 [http-nio-8080-exec-2] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(void com.example.Lab_3.services.ProductService.saveProduct(Principal,Product,MultipartFile,MultipartFile,MultipartFile))
""2023-12-21 08:22:49 [http-nio-8080-exec-3] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:22:49 [http-nio-8080-exec-3] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:22:49 [http-nio-8080-exec-3] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(List com.example.Lab_3.services.ProductService.listProductsforall())
""2023-12-21 08:22:49 [http-nio-8080-exec-3] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(List com.example.Lab_3.services.ProductService.listProductsforall())
""2023-12-21 08:23:46 [http-nio-8080-exec-7] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(void com.example.Lab_3.services.ProductService.saveProduct(Principal,Product,MultipartFile,MultipartFile,MultipartFile))
""2023-12-21 08:23:46 [http-nio-8080-exec-7] INFO  c.e.Lab_3.services.ProductService - Saving new Product. Title:  ,  ,      ; Author email: nikitakorshun@mail.ru
""2023-12-21 08:23:46 [http-nio-8080-exec-7] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(void com.example.Lab_3.services.ProductService.saveProduct(Principal,Product,MultipartFile,MultipartFile,MultipartFile))
""2023-12-21 08:23:46 [http-nio-8080-exec-7] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:23:46 [http-nio-8080-exec-7] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:23:46 [http-nio-8080-exec-7] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(List com.example.Lab_3.services.ProductService.listProductsforall())
""2023-12-21 08:23:46 [http-nio-8080-exec-7] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(List com.example.Lab_3.services.ProductService.listProductsforall())
""2023-12-21 08:23:48 [http-nio-8080-exec-2] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(Product com.example.Lab_3.services.ProductService.getProductById(Long))
""2023-12-21 08:23:48 [http-nio-8080-exec-2] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(Product com.example.Lab_3.services.ProductService.getProductById(Long))
""2023-12-21 08:23:48 [http-nio-8080-exec-2] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:23:48 [http-nio-8080-exec-2] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:23:50 [http-nio-8080-exec-8] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:23:50 [http-nio-8080-exec-8] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:23:52 [http-nio-8080-exec-10] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:23:52 [http-nio-8080-exec-10] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:23:52 [http-nio-8080-exec-10] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(List com.example.Lab_3.services.ProductService.listProductsforall())
""2023-12-21 08:23:52 [http-nio-8080-exec-10] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(List com.example.Lab_3.services.ProductService.listProductsforall())
""2023-12-21 08:23:54 [http-nio-8080-exec-6] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(Product com.example.Lab_3.services.ProductService.getProductById(Long))
""2023-12-21 08:23:54 [http-nio-8080-exec-6] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(Product com.example.Lab_3.services.ProductService.getProductById(Long))
""2023-12-21 08:23:54 [http-nio-8080-exec-6] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:23:54 [http-nio-8080-exec-6] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:23:57 [http-nio-8080-exec-2] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:23:57 [http-nio-8080-exec-2] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:23:59 [http-nio-8080-exec-5] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:23:59 [http-nio-8080-exec-5] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:23:59 [http-nio-8080-exec-5] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(List com.example.Lab_3.services.ProductService.listProductsforall())
""2023-12-21 08:23:59 [http-nio-8080-exec-5] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(List com.example.Lab_3.services.ProductService.listProductsforall())
""2023-12-21 08:24:00 [http-nio-8080-exec-9] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(Product com.example.Lab_3.services.ProductService.getProductById(Long))
""2023-12-21 08:24:00 [http-nio-8080-exec-9] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(Product com.example.Lab_3.services.ProductService.getProductById(Long))
""2023-12-21 08:24:00 [http-nio-8080-exec-9] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:24:00 [http-nio-8080-exec-9] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:24:01 [http-nio-8080-exec-5] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:24:02 [http-nio-8080-exec-5] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:24:03 [http-nio-8080-exec-8] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:24:03 [http-nio-8080-exec-8] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:24:03 [http-nio-8080-exec-8] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(List com.example.Lab_3.services.ProductService.listProductsforall())
""2023-12-21 08:24:03 [http-nio-8080-exec-8] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(List com.example.Lab_3.services.ProductService.listProductsforall())
""2023-12-21 08:24:59 [http-nio-8080-exec-3] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(void com.example.Lab_3.services.ProductService.saveProduct(Principal,Product,MultipartFile,MultipartFile,MultipartFile))
""2023-12-21 08:24:59 [http-nio-8080-exec-3] INFO  c.e.Lab_3.services.ProductService - Saving new Product. Title:  ,     ; Author email: nikitakorshun@mail.ru
""2023-12-21 08:24:59 [http-nio-8080-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 1406, SQLState: 22001
""2023-12-21 08:24:59 [http-nio-8080-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Data truncation: Data too long for column 'description' at row 1
""2023-12-21 08:24:59 [http-nio-8080-exec-3] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(void com.example.Lab_3.services.ProductService.saveProduct(Principal,Product,MultipartFile,MultipartFile,MultipartFile))
""2023-12-21 08:24:59 [http-nio-8080-exec-3] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.DataException: could not execute statement] with root cause
"com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Data too long for column 'description' at row 1
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:104)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1061)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1009)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1320)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:994)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:58)
	at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:43)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3279)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3885)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:84)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:330)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:287)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:756)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:742)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)
	at jdk.proxy4/jdk.proxy4.$Proxy123.persist(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)
	at jdk.proxy4/jdk.proxy4.$Proxy123.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:666)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy4/jdk.proxy4.$Proxy140.save(Unknown Source)
	at com.example.Lab_3.services.ProductService.saveProduct(ProductService.java:62)
	at com.example.Lab_3.services.ProductService$$FastClassBySpringCGLIB$$c15fb938.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:49)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.example.Lab_3.services.ProductService$$EnhancerBySpringCGLIB$$67e57b1a.saveProduct(<generated>)
	at com.example.Lab_3.controllers.ProductController.createProduct(ProductController.java:56)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:67)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:223)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:132)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1623)
"2023-12-21 08:25:05 [http-nio-8080-exec-7] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(void com.example.Lab_3.services.ProductService.saveProduct(Principal,Product,MultipartFile,MultipartFile,MultipartFile))
""2023-12-21 08:25:05 [http-nio-8080-exec-7] INFO  c.e.Lab_3.services.ProductService - Saving new Product. Title:  ,     ; Author email: nikitakorshun@mail.ru
""2023-12-21 08:25:05 [http-nio-8080-exec-7] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 1406, SQLState: 22001
""2023-12-21 08:25:05 [http-nio-8080-exec-7] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Data truncation: Data too long for column 'description' at row 1
""2023-12-21 08:25:05 [http-nio-8080-exec-7] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(void com.example.Lab_3.services.ProductService.saveProduct(Principal,Product,MultipartFile,MultipartFile,MultipartFile))
""2023-12-21 08:25:05 [http-nio-8080-exec-7] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.DataException: could not execute statement] with root cause
"com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Data too long for column 'description' at row 1
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:104)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1061)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1009)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1320)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:994)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:58)
	at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:43)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3279)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3885)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:84)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:330)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:287)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:756)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:742)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)
	at jdk.proxy4/jdk.proxy4.$Proxy123.persist(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)
	at jdk.proxy4/jdk.proxy4.$Proxy123.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:666)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy4/jdk.proxy4.$Proxy140.save(Unknown Source)
	at com.example.Lab_3.services.ProductService.saveProduct(ProductService.java:62)
	at com.example.Lab_3.services.ProductService$$FastClassBySpringCGLIB$$c15fb938.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:49)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.example.Lab_3.services.ProductService$$EnhancerBySpringCGLIB$$67e57b1a.saveProduct(<generated>)
	at com.example.Lab_3.controllers.ProductController.createProduct(ProductController.java:56)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:67)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:223)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:132)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1623)
"2023-12-21 08:25:06 [http-nio-8080-exec-8] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:25:06 [http-nio-8080-exec-8] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:25:06 [http-nio-8080-exec-8] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(List com.example.Lab_3.services.ProductService.listProductsforall())
""2023-12-21 08:25:06 [http-nio-8080-exec-8] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(List com.example.Lab_3.services.ProductService.listProductsforall())
""2023-12-21 08:25:39 [http-nio-8080-exec-9] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(void com.example.Lab_3.services.ProductService.saveProduct(Principal,Product,MultipartFile,MultipartFile,MultipartFile))
""2023-12-21 08:25:39 [http-nio-8080-exec-9] INFO  c.e.Lab_3.services.ProductService - Saving new Product. Title:  ,     ; Author email: nikitakorshun@mail.ru
""2023-12-21 08:25:40 [http-nio-8080-exec-9] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(void com.example.Lab_3.services.ProductService.saveProduct(Principal,Product,MultipartFile,MultipartFile,MultipartFile))
""2023-12-21 08:25:40 [http-nio-8080-exec-9] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:25:40 [http-nio-8080-exec-9] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:25:40 [http-nio-8080-exec-9] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(List com.example.Lab_3.services.ProductService.listProductsforall())
""2023-12-21 08:25:40 [http-nio-8080-exec-9] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(List com.example.Lab_3.services.ProductService.listProductsforall())
""2023-12-21 08:28:05 [http-nio-8080-exec-9] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(void com.example.Lab_3.services.ProductService.saveProduct(Principal,Product,MultipartFile,MultipartFile,MultipartFile))
""2023-12-21 08:28:05 [http-nio-8080-exec-9] INFO  c.e.Lab_3.services.ProductService - Saving new Product. Title:     ; Author email: nikitakorshun@mail.ru
""2023-12-21 08:28:05 [http-nio-8080-exec-9] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(void com.example.Lab_3.services.ProductService.saveProduct(Principal,Product,MultipartFile,MultipartFile,MultipartFile))
""2023-12-21 08:28:05 [http-nio-8080-exec-9] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:28:05 [http-nio-8080-exec-9] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:28:05 [http-nio-8080-exec-9] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(List com.example.Lab_3.services.ProductService.listProductsforall())
""2023-12-21 08:28:05 [http-nio-8080-exec-9] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(List com.example.Lab_3.services.ProductService.listProductsforall())
""2023-12-21 08:30:02 [http-nio-8080-exec-2] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(void com.example.Lab_3.services.ProductService.saveProduct(Principal,Product,MultipartFile,MultipartFile,MultipartFile))
""2023-12-21 08:30:02 [http-nio-8080-exec-2] INFO  c.e.Lab_3.services.ProductService - Saving new Product. Title:   , , , 20%; Author email: nikitakorshun@mail.ru
""2023-12-21 08:30:02 [http-nio-8080-exec-2] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(void com.example.Lab_3.services.ProductService.saveProduct(Principal,Product,MultipartFile,MultipartFile,MultipartFile))
""2023-12-21 08:30:02 [http-nio-8080-exec-2] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:30:02 [http-nio-8080-exec-2] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:30:02 [http-nio-8080-exec-2] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(List com.example.Lab_3.services.ProductService.listProductsforall())
""2023-12-21 08:30:02 [http-nio-8080-exec-2] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(List com.example.Lab_3.services.ProductService.listProductsforall())
""2023-12-21 08:30:05 [http-nio-8080-exec-7] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:30:05 [http-nio-8080-exec-7] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:30:05 [http-nio-8080-exec-7] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 08:30:05 [http-nio-8080-exec-7] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 08:30:09 [http-nio-8080-exec-9] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:30:09 [http-nio-8080-exec-9] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:30:09 [http-nio-8080-exec-9] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 08:30:09 [http-nio-8080-exec-9] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 08:30:12 [http-nio-8080-exec-2] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:30:13 [http-nio-8080-exec-2] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:30:13 [http-nio-8080-exec-2] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 08:30:13 [http-nio-8080-exec-2] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 08:30:16 [http-nio-8080-exec-6] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:30:16 [http-nio-8080-exec-6] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:30:16 [http-nio-8080-exec-6] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 08:30:16 [http-nio-8080-exec-6] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 08:30:17 [http-nio-8080-exec-5] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(Product com.example.Lab_3.services.ProductService.getProductById(Long))
""2023-12-21 08:30:17 [http-nio-8080-exec-5] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(Product com.example.Lab_3.services.ProductService.getProductById(Long))
""2023-12-21 08:30:17 [http-nio-8080-exec-5] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:30:17 [http-nio-8080-exec-5] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:30:20 [http-nio-8080-exec-4] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:30:20 [http-nio-8080-exec-4] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:30:20 [http-nio-8080-exec-4] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 08:30:20 [http-nio-8080-exec-4] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 08:30:32 [http-nio-8080-exec-10] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:30:32 [http-nio-8080-exec-10] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:30:32 [http-nio-8080-exec-10] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 08:30:32 [http-nio-8080-exec-10] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 08:30:34 [http-nio-8080-exec-8] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(Product com.example.Lab_3.services.ProductService.getProductById(Long))
""2023-12-21 08:30:34 [http-nio-8080-exec-8] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(Product com.example.Lab_3.services.ProductService.getProductById(Long))
""2023-12-21 08:30:34 [http-nio-8080-exec-8] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:30:34 [http-nio-8080-exec-8] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:30:40 [http-nio-8080-exec-10] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:30:40 [http-nio-8080-exec-10] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:30:40 [http-nio-8080-exec-10] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 08:30:40 [http-nio-8080-exec-10] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 08:30:41 [http-nio-8080-exec-9] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:30:41 [http-nio-8080-exec-9] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:30:43 [http-nio-8080-exec-2] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(List com.example.Lab_3.services.UserService.list())
""2023-12-21 08:30:43 [http-nio-8080-exec-2] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(List com.example.Lab_3.services.UserService.list())
""2023-12-21 08:30:43 [http-nio-8080-exec-2] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:30:43 [http-nio-8080-exec-2] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:30:46 [http-nio-8080-exec-3] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:30:46 [http-nio-8080-exec-3] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:30:48 [http-nio-8080-exec-1] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:30:48 [http-nio-8080-exec-1] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:30:49 [http-nio-8080-exec-10] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(List com.example.Lab_3.services.UserService.list())
""2023-12-21 08:30:49 [http-nio-8080-exec-10] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(List com.example.Lab_3.services.UserService.list())
""2023-12-21 08:30:49 [http-nio-8080-exec-10] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:30:49 [http-nio-8080-exec-10] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:30:53 [http-nio-8080-exec-8] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:30:53 [http-nio-8080-exec-8] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:30:57 [http-nio-8080-exec-5] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:30:57 [http-nio-8080-exec-5] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:30:59 [http-nio-8080-exec-6] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:30:59 [http-nio-8080-exec-6] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:31:00 [http-nio-8080-exec-7] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:31:00 [http-nio-8080-exec-7] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:31:23 [http-nio-8080-exec-1] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(boolean com.example.Lab_3.services.UserService.createUser(User))
""2023-12-21 08:31:23 [http-nio-8080-exec-1] INFO  c.example.Lab_3.services.UserService - Saving new User with email: commonUser@gmail.com
""2023-12-21 08:31:23 [http-nio-8080-exec-1] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(boolean com.example.Lab_3.services.UserService.createUser(User))
""2023-12-21 08:31:23 [http-nio-8080-exec-9] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:31:23 [http-nio-8080-exec-9] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:31:33 [http-nio-8080-exec-2] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:31:34 [http-nio-8080-exec-2] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:31:34 [http-nio-8080-exec-2] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 08:31:34 [http-nio-8080-exec-2] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 08:31:37 [http-nio-8080-exec-10] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:31:38 [http-nio-8080-exec-10] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:31:38 [http-nio-8080-exec-10] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 08:31:38 [http-nio-8080-exec-10] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 08:31:40 [http-nio-8080-exec-8] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:31:40 [http-nio-8080-exec-8] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:31:43 [http-nio-8080-exec-6] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:31:43 [http-nio-8080-exec-6] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:31:46 [http-nio-8080-exec-3] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:31:46 [http-nio-8080-exec-3] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:31:53 [http-nio-8080-exec-2] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:31:53 [http-nio-8080-exec-2] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:31:53 [http-nio-8080-exec-2] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 08:31:53 [http-nio-8080-exec-2] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 08:31:59 [http-nio-8080-exec-8] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:31:59 [http-nio-8080-exec-8] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:31:59 [http-nio-8080-exec-8] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 08:31:59 [http-nio-8080-exec-8] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 08:32:01 [http-nio-8080-exec-7] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:32:01 [http-nio-8080-exec-7] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:32:03 [http-nio-8080-exec-10] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:32:03 [http-nio-8080-exec-10] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:32:03 [http-nio-8080-exec-10] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 08:32:03 [http-nio-8080-exec-10] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 08:32:05 [http-nio-8080-exec-5] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:32:05 [http-nio-8080-exec-5] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:32:06 [http-nio-8080-exec-2] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(List com.example.Lab_3.services.UserService.list())
""2023-12-21 08:32:06 [http-nio-8080-exec-2] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(List com.example.Lab_3.services.UserService.list())
""2023-12-21 08:32:06 [http-nio-8080-exec-2] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:32:06 [http-nio-8080-exec-2] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:32:15 [http-nio-8080-exec-5] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(void com.example.Lab_3.services.UserService.changeUserRoles(User,Set))
""2023-12-21 08:32:15 [http-nio-8080-exec-5] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(void com.example.Lab_3.services.UserService.changeUserRoles(User,Set))
""2023-12-21 08:32:15 [http-nio-8080-exec-8] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(List com.example.Lab_3.services.UserService.list())
""2023-12-21 08:32:15 [http-nio-8080-exec-8] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(List com.example.Lab_3.services.UserService.list())
""2023-12-21 08:32:15 [http-nio-8080-exec-8] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:32:15 [http-nio-8080-exec-8] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:32:20 [http-nio-8080-exec-7] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(void com.example.Lab_3.services.UserService.changeUserRoles(User,Set))
""2023-12-21 08:32:20 [http-nio-8080-exec-7] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(void com.example.Lab_3.services.UserService.changeUserRoles(User,Set))
""2023-12-21 08:32:20 [http-nio-8080-exec-9] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(List com.example.Lab_3.services.UserService.list())
""2023-12-21 08:32:20 [http-nio-8080-exec-9] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(List com.example.Lab_3.services.UserService.list())
""2023-12-21 08:32:20 [http-nio-8080-exec-9] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:32:20 [http-nio-8080-exec-9] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:32:21 [http-nio-8080-exec-8] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(void com.example.Lab_3.services.UserService.banUser(Long))
""2023-12-21 08:32:21 [http-nio-8080-exec-8] INFO  c.example.Lab_3.services.UserService - Ban user with id = 2; email: commonUser@gmail.com
""2023-12-21 08:32:21 [http-nio-8080-exec-8] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(void com.example.Lab_3.services.UserService.banUser(Long))
""2023-12-21 08:32:21 [http-nio-8080-exec-10] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(List com.example.Lab_3.services.UserService.list())
""2023-12-21 08:32:21 [http-nio-8080-exec-10] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(List com.example.Lab_3.services.UserService.list())
""2023-12-21 08:32:21 [http-nio-8080-exec-10] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:32:21 [http-nio-8080-exec-10] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:32:24 [http-nio-8080-exec-6] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(void com.example.Lab_3.services.UserService.banUser(Long))
""2023-12-21 08:32:24 [http-nio-8080-exec-6] INFO  c.example.Lab_3.services.UserService - Unban user with id = 2; email: commonUser@gmail.com
""2023-12-21 08:32:24 [http-nio-8080-exec-6] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(void com.example.Lab_3.services.UserService.banUser(Long))
""2023-12-21 08:32:24 [http-nio-8080-exec-1] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(List com.example.Lab_3.services.UserService.list())
""2023-12-21 08:32:24 [http-nio-8080-exec-1] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(List com.example.Lab_3.services.UserService.list())
""2023-12-21 08:32:24 [http-nio-8080-exec-1] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:32:24 [http-nio-8080-exec-1] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:32:26 [http-nio-8080-exec-3] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:32:26 [http-nio-8080-exec-3] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:32:30 [http-nio-8080-exec-2] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:32:30 [http-nio-8080-exec-2] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 08:32:33 [http-nio-8080-exec-1] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:32:33 [http-nio-8080-exec-1] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 08:32:39 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
""2023-12-21 08:32:39 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
""2023-12-21 08:32:39 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
""2023-12-21 09:37:23 [restartedMain] INFO  com.example.Lab_3.Lab3Application - Starting Lab3Application using Java 20.0.2 on NIKITA_PV with PID 12776 (C:\Users\Nikita\Desktop\Labs_3-1\Java\lab_3\Lab_3\target\classes started by Nikita in C:\Users\Nikita\Desktop\Labs_3-1\Java\lab_3\Lab_3)
""2023-12-21 09:37:23 [restartedMain] INFO  com.example.Lab_3.Lab3Application - No active profile set, falling back to 1 default profile: "default"
""2023-12-21 09:37:23 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
""2023-12-21 09:37:23 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
""2023-12-21 09:37:24 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2023-12-21 09:37:24 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 103 ms. Found 4 JPA repository interfaces.
""2023-12-21 09:37:26 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
""2023-12-21 09:37:26 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
""2023-12-21 09:37:26 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.65]
""2023-12-21 09:37:26 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
""2023-12-21 09:37:26 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3531 ms
""2023-12-21 09:37:27 [restartedMain] WARN  o.a.c.c.C.[Tomcat].[localhost].[/] - Cannot deserialize session attribute [SPRING_SECURITY_CONTEXT] for session [31A09B21893CAA3B14F35DA85BF69A7B]
""2023-12-21 09:37:27 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
""2023-12-21 09:37:27 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.11.Final
""2023-12-21 09:37:27 [restartedMain] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
""2023-12-21 09:37:27 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
""2023-12-21 09:37:28 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
""2023-12-21 09:37:28 [restartedMain] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
""2023-12-21 09:37:30 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "alter table user_role add constraint FKj345gk1bovqvfame88rcx7yyx foreign key (user_id) references users (id)" via JDBC Statement
"org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table user_role add constraint FKj345gk1bovqvfame88rcx7yyx foreign key (user_id) references users (id)" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:581)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:526)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:452)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:263)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:123)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:196)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.example.Lab_3.Lab3Application.main(Lab3Application.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: java.sql.SQLException: Referencing column 'user_id' and referenced column 'id' in foreign key constraint 'FKj345gk1bovqvfame88rcx7yyx' are incompatible.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 36 common frames omitted
"2023-12-21 09:37:30 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2023-12-21 09:37:30 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2023-12-21 09:37:31 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2023-12-21 09:37:32 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@71a81aa8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@644ca5e4, org.springframework.security.web.context.SecurityContextPersistenceFilter@34644de8, org.springframework.security.web.header.HeaderWriterFilter@a2b5949, org.springframework.security.web.csrf.CsrfFilter@592c7f36, org.springframework.security.web.authentication.logout.LogoutFilter@ff13e63, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1d1c52e5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@547f3ea2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@f84b503, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@137331e, org.springframework.security.web.session.SessionManagementFilter@1688db, org.springframework.security.web.access.ExceptionTranslationFilter@c57bb69, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2024d064]
""2023-12-21 09:37:33 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
""2023-12-21 09:37:33 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
""2023-12-21 09:37:33 [restartedMain] INFO  com.example.Lab_3.Lab3Application - Started Lab3Application in 11.506 seconds (JVM running for 13.533)
""2023-12-21 09:37:35 [http-nio-8080-exec-3] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
""2023-12-21 09:37:35 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
""2023-12-21 09:37:35 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
""2023-12-21 09:37:35 [http-nio-8080-exec-3] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 09:37:35 [http-nio-8080-exec-3] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 09:37:35 [http-nio-8080-exec-3] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 09:37:35 [http-nio-8080-exec-3] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 09:37:37 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
""2023-12-21 09:37:37 [Thread-5] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
""2023-12-21 09:37:37 [Thread-5] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
""2023-12-21 09:37:37 [Thread-5] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1758)
 java.base/java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:460)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1069)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1623)
""2023-12-21 09:37:37 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
""2023-12-21 09:37:37 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
""2023-12-21 09:37:37 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
""2023-12-21 09:37:38 [restartedMain] INFO  com.example.Lab_3.Lab3Application - Starting Lab3Application using Java 20.0.2 on NIKITA_PV with PID 12776 (C:\Users\Nikita\Desktop\Labs_3-1\Java\lab_3\Lab_3\target\classes started by Nikita in C:\Users\Nikita\Desktop\Labs_3-1\Java\lab_3\Lab_3)
""2023-12-21 09:37:38 [restartedMain] INFO  com.example.Lab_3.Lab3Application - No active profile set, falling back to 1 default profile: "default"
""2023-12-21 09:37:39 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2023-12-21 09:37:39 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 55 ms. Found 4 JPA repository interfaces.
""2023-12-21 09:37:39 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
""2023-12-21 09:37:39 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
""2023-12-21 09:37:39 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.65]
""2023-12-21 09:37:39 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
""2023-12-21 09:37:39 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1368 ms
""2023-12-21 09:37:39 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
""2023-12-21 09:37:39 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
""2023-12-21 09:37:39 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
""2023-12-21 09:37:39 [restartedMain] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
""2023-12-21 09:37:40 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "alter table user_role add constraint FKj345gk1bovqvfame88rcx7yyx foreign key (user_id) references users (id)" via JDBC Statement
"org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table user_role add constraint FKj345gk1bovqvfame88rcx7yyx foreign key (user_id) references users (id)" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:581) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:526) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:452) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:263) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:123) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:196) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.4.jar:2.7.4]
	at com.example.Lab_3.Lab3Application.main(Lab3Application.java:10) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.4.jar:2.7.4]
Caused by: java.sql.SQLException: Referencing column 'user_id' and referenced column 'id' in foreign key constraint 'FKj345gk1bovqvfame88rcx7yyx' are incompatible.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	... 36 common frames omitted
"2023-12-21 09:37:40 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2023-12-21 09:37:40 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2023-12-21 09:37:40 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2023-12-21 09:37:41 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6eb9ccbb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7d91fdc1, org.springframework.security.web.context.SecurityContextPersistenceFilter@7440084f, org.springframework.security.web.header.HeaderWriterFilter@21822c35, org.springframework.security.web.csrf.CsrfFilter@26e69a2e, org.springframework.security.web.authentication.logout.LogoutFilter@55c4d39d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7209df18, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@59069a09, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6955e698, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@602f9f88, org.springframework.security.web.session.SessionManagementFilter@66e5d957, org.springframework.security.web.access.ExceptionTranslationFilter@3812af29, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2a16e6b5]
""2023-12-21 09:37:41 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
""2023-12-21 09:37:41 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
""2023-12-21 09:37:41 [restartedMain] INFO  com.example.Lab_3.Lab3Application - Started Lab3Application in 3.95 seconds (JVM running for 21.537)
""2023-12-21 09:37:41 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
""2023-12-21 09:41:57 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 2 class path changes (0 additions, 1 deletion, 1 modification)
""2023-12-21 09:41:58 [Thread-7] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
""2023-12-21 09:41:58 [Thread-7] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
""2023-12-21 09:41:58 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
""2023-12-21 09:41:58 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
""2023-12-21 09:42:01 [restartedMain] INFO  com.example.Lab_3.Lab3Application - Starting Lab3Application using Java 20.0.2 on NIKITA_PV with PID 12776 (C:\Users\Nikita\Desktop\Labs_3-1\Java\lab_3\Lab_3\target\classes started by Nikita in C:\Users\Nikita\Desktop\Labs_3-1\Java\lab_3\Lab_3)
""2023-12-21 09:42:01 [restartedMain] INFO  com.example.Lab_3.Lab3Application - No active profile set, falling back to 1 default profile: "default"
""2023-12-21 09:42:02 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2023-12-21 09:42:02 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 83 ms. Found 4 JPA repository interfaces.
""2023-12-21 09:42:02 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
""2023-12-21 09:42:02 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
""2023-12-21 09:42:02 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.65]
""2023-12-21 09:42:02 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
""2023-12-21 09:42:02 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1779 ms
""2023-12-21 09:42:03 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
""2023-12-21 09:42:03 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
""2023-12-21 09:42:03 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
""2023-12-21 09:42:03 [restartedMain] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
""2023-12-21 09:42:05 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "alter table user_role add constraint FKj345gk1bovqvfame88rcx7yyx foreign key (user_id) references users (id)" via JDBC Statement
"org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table user_role add constraint FKj345gk1bovqvfame88rcx7yyx foreign key (user_id) references users (id)" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:581) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:526) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:452) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:263) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:123) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:196) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.4.jar:2.7.4]
	at com.example.Lab_3.Lab3Application.main(Lab3Application.java:10) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.4.jar:2.7.4]
Caused by: java.sql.SQLException: Referencing column 'user_id' and referenced column 'id' in foreign key constraint 'FKj345gk1bovqvfame88rcx7yyx' are incompatible.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	... 36 common frames omitted
"2023-12-21 09:42:05 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2023-12-21 09:42:05 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2023-12-21 09:42:07 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2023-12-21 09:42:07 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7a85d9a5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@556ceae0, org.springframework.security.web.context.SecurityContextPersistenceFilter@5d6fe436, org.springframework.security.web.header.HeaderWriterFilter@585ac9fc, org.springframework.security.web.csrf.CsrfFilter@50625767, org.springframework.security.web.authentication.logout.LogoutFilter@4b14c832, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@d346454, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6d9b527b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6300631d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@70e9e5e2, org.springframework.security.web.session.SessionManagementFilter@1ff451c0, org.springframework.security.web.access.ExceptionTranslationFilter@7548b199, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@468c758a]
""2023-12-21 09:42:09 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
""2023-12-21 09:42:09 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
""2023-12-21 09:42:09 [restartedMain] INFO  com.example.Lab_3.Lab3Application - Started Lab3Application in 8.718 seconds (JVM running for 288.789)
""2023-12-21 09:42:09 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation delta:


==========================
CONDITION EVALUATION DELTA
==========================


Positive matches:
-----------------

   MailSenderAutoConfiguration matched:
      - @ConditionalOnClass found required classes 'javax.mail.internet.MimeMessage', 'javax.activation.MimeType', 'org.springframework.mail.MailSender' (OnClassCondition)
      - AnyNestedCondition 1 matched 1 did not; NestedCondition on MailSenderAutoConfiguration.MailSenderCondition.JndiNameProperty @ConditionalOnProperty (spring.mail.jndi-name) did not find property 'jndi-name'; NestedCondition on MailSenderAutoConfiguration.MailSenderCondition.HostProperty @ConditionalOnProperty (spring.mail.host) matched (MailSenderAutoConfiguration.MailSenderCondition)
      - @ConditionalOnMissingBean (types: org.springframework.mail.MailSender; SearchStrategy: all) did not find any beans (OnBeanCondition)

   MailSenderPropertiesConfiguration#mailSender matched:
      - @ConditionalOnMissingBean (types: org.springframework.mail.javamail.JavaMailSender; SearchStrategy: all) did not find any beans (OnBeanCondition)


Negative matches:
-----------------

    None


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



""2023-12-21 09:42:10 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
""2023-12-21 09:42:10 [Thread-11] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
""2023-12-21 09:42:10 [Thread-11] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
""2023-12-21 09:42:10 [Thread-11] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
""2023-12-21 09:42:10 [Thread-11] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
""2023-12-21 09:42:10 [restartedMain] INFO  com.example.Lab_3.Lab3Application - Starting Lab3Application using Java 20.0.2 on NIKITA_PV with PID 12776 (C:\Users\Nikita\Desktop\Labs_3-1\Java\lab_3\Lab_3\target\classes started by Nikita in C:\Users\Nikita\Desktop\Labs_3-1\Java\lab_3\Lab_3)
""2023-12-21 09:42:10 [restartedMain] INFO  com.example.Lab_3.Lab3Application - No active profile set, falling back to 1 default profile: "default"
""2023-12-21 09:42:11 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2023-12-21 09:42:11 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 44 ms. Found 4 JPA repository interfaces.
""2023-12-21 09:42:11 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
""2023-12-21 09:42:11 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
""2023-12-21 09:42:11 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.65]
""2023-12-21 09:42:11 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
""2023-12-21 09:42:11 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 995 ms
""2023-12-21 09:42:12 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
""2023-12-21 09:42:12 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
""2023-12-21 09:42:12 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
""2023-12-21 09:42:12 [restartedMain] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
""2023-12-21 09:42:12 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "alter table user_role add constraint FKj345gk1bovqvfame88rcx7yyx foreign key (user_id) references users (id)" via JDBC Statement
"org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table user_role add constraint FKj345gk1bovqvfame88rcx7yyx foreign key (user_id) references users (id)" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:581) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:526) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:452) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:263) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:123) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:196) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.4.jar:2.7.4]
	at com.example.Lab_3.Lab3Application.main(Lab3Application.java:10) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.4.jar:2.7.4]
Caused by: java.sql.SQLException: Referencing column 'user_id' and referenced column 'id' in foreign key constraint 'FKj345gk1bovqvfame88rcx7yyx' are incompatible.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	... 36 common frames omitted
"2023-12-21 09:42:12 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2023-12-21 09:42:12 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2023-12-21 09:42:13 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2023-12-21 09:42:13 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4e480247, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f84a7db, org.springframework.security.web.context.SecurityContextPersistenceFilter@3b1b4a43, org.springframework.security.web.header.HeaderWriterFilter@20435160, org.springframework.security.web.csrf.CsrfFilter@49925b30, org.springframework.security.web.authentication.logout.LogoutFilter@77faffbc, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3f4e87b1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1220583f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@28d2c34a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@29f49a07, org.springframework.security.web.session.SessionManagementFilter@600bd6a9, org.springframework.security.web.access.ExceptionTranslationFilter@7f2ac718, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2000dac6]
""2023-12-21 09:42:14 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
""2023-12-21 09:42:14 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
""2023-12-21 09:42:14 [restartedMain] INFO  com.example.Lab_3.Lab3Application - Started Lab3Application in 3.711 seconds (JVM running for 294.166)
""2023-12-21 09:42:14 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation delta:


==========================
CONDITION EVALUATION DELTA
==========================


Positive matches:
-----------------

    None


Negative matches:
-----------------

   MailSenderAutoConfiguration:
      Did not match:
         - @ConditionalOnMissingBean (types: org.springframework.mail.MailSender; SearchStrategy: all) found beans of type 'org.springframework.mail.MailSender' getJavaMailSender (OnBeanCondition)
      Matched:
         - @ConditionalOnClass found required classes 'javax.mail.internet.MimeMessage', 'javax.activation.MimeType', 'org.springframework.mail.MailSender' (OnClassCondition)
         - AnyNestedCondition 1 matched 1 did not; NestedCondition on MailSenderAutoConfiguration.MailSenderCondition.JndiNameProperty @ConditionalOnProperty (spring.mail.jndi-name) did not find property 'jndi-name'; NestedCondition on MailSenderAutoConfiguration.MailSenderCondition.HostProperty @ConditionalOnProperty (spring.mail.host) matched (MailSenderAutoConfiguration.MailSenderCondition)


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



""2023-12-21 09:42:48 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 2 class path changes (0 additions, 1 deletion, 1 modification)
""2023-12-21 09:42:49 [Thread-15] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
""2023-12-21 09:42:49 [Thread-15] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
""2023-12-21 09:42:49 [Thread-15] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
""2023-12-21 09:42:50 [Thread-15] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
""2023-12-21 09:42:53 [restartedMain] INFO  com.example.Lab_3.Lab3Application - Starting Lab3Application using Java 20.0.2 on NIKITA_PV with PID 12776 (C:\Users\Nikita\Desktop\Labs_3-1\Java\lab_3\Lab_3\target\classes started by Nikita in C:\Users\Nikita\Desktop\Labs_3-1\Java\lab_3\Lab_3)
""2023-12-21 09:42:53 [restartedMain] INFO  com.example.Lab_3.Lab3Application - No active profile set, falling back to 1 default profile: "default"
""2023-12-21 09:42:56 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2023-12-21 09:42:56 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 313 ms. Found 4 JPA repository interfaces.
""2023-12-21 09:42:59 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
""2023-12-21 09:43:00 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
""2023-12-21 09:43:00 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.65]
""2023-12-21 09:43:00 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
""2023-12-21 09:43:00 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 7495 ms
""2023-12-21 09:43:04 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
""2023-12-21 09:43:05 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
""2023-12-21 09:43:06 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
""2023-12-21 09:43:06 [restartedMain] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
""2023-12-21 09:43:08 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "alter table user_role add constraint FKj345gk1bovqvfame88rcx7yyx foreign key (user_id) references users (id)" via JDBC Statement
"org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table user_role add constraint FKj345gk1bovqvfame88rcx7yyx foreign key (user_id) references users (id)" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:581) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:526) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:452) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:263) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:123) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:196) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.4.jar:2.7.4]
	at com.example.Lab_3.Lab3Application.main(Lab3Application.java:10) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.4.jar:2.7.4]
Caused by: java.sql.SQLException: Referencing column 'user_id' and referenced column 'id' in foreign key constraint 'FKj345gk1bovqvfame88rcx7yyx' are incompatible.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	... 36 common frames omitted
"2023-12-21 09:43:08 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2023-12-21 09:43:08 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2023-12-21 09:43:09 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2023-12-21 09:43:10 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3cd0b53, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@53b1b96e, org.springframework.security.web.context.SecurityContextPersistenceFilter@75553d21, org.springframework.security.web.header.HeaderWriterFilter@728448a6, org.springframework.security.web.csrf.CsrfFilter@3c1ddb4f, org.springframework.security.web.authentication.logout.LogoutFilter@58a4f4b1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7d8ce139, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@71598221, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@214825d4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@b02161a, org.springframework.security.web.session.SessionManagementFilter@27c04d35, org.springframework.security.web.access.ExceptionTranslationFilter@180b103, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@351daecc]
""2023-12-21 09:43:13 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
""2023-12-21 09:43:13 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
""2023-12-21 09:43:13 [restartedMain] INFO  com.example.Lab_3.Lab3Application - Started Lab3Application in 21.297 seconds (JVM running for 353.148)
""2023-12-21 09:43:13 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation delta:


==========================
CONDITION EVALUATION DELTA
==========================


Positive matches:
-----------------

   MailSenderAutoConfiguration matched:
      - @ConditionalOnClass found required classes 'javax.mail.internet.MimeMessage', 'javax.activation.MimeType', 'org.springframework.mail.MailSender' (OnClassCondition)
      - AnyNestedCondition 1 matched 1 did not; NestedCondition on MailSenderAutoConfiguration.MailSenderCondition.JndiNameProperty @ConditionalOnProperty (spring.mail.jndi-name) did not find property 'jndi-name'; NestedCondition on MailSenderAutoConfiguration.MailSenderCondition.HostProperty @ConditionalOnProperty (spring.mail.host) matched (MailSenderAutoConfiguration.MailSenderCondition)
      - @ConditionalOnMissingBean (types: org.springframework.mail.MailSender; SearchStrategy: all) did not find any beans (OnBeanCondition)

   MailSenderPropertiesConfiguration#mailSender matched:
      - @ConditionalOnMissingBean (types: org.springframework.mail.javamail.JavaMailSender; SearchStrategy: all) did not find any beans (OnBeanCondition)


Negative matches:
-----------------

    None


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



""2023-12-21 09:43:14 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
""2023-12-21 09:43:15 [Thread-19] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
""2023-12-21 09:43:15 [Thread-19] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
""2023-12-21 09:43:15 [Thread-19] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown initiated...
""2023-12-21 09:43:15 [Thread-19] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown completed.
""2023-12-21 09:43:15 [restartedMain] INFO  com.example.Lab_3.Lab3Application - Starting Lab3Application using Java 20.0.2 on NIKITA_PV with PID 12776 (C:\Users\Nikita\Desktop\Labs_3-1\Java\lab_3\Lab_3\target\classes started by Nikita in C:\Users\Nikita\Desktop\Labs_3-1\Java\lab_3\Lab_3)
""2023-12-21 09:43:15 [restartedMain] INFO  com.example.Lab_3.Lab3Application - No active profile set, falling back to 1 default profile: "default"
""2023-12-21 09:43:16 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2023-12-21 09:43:16 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 50 ms. Found 4 JPA repository interfaces.
""2023-12-21 09:43:16 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
""2023-12-21 09:43:16 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
""2023-12-21 09:43:16 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.65]
""2023-12-21 09:43:16 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
""2023-12-21 09:43:16 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1216 ms
""2023-12-21 09:43:17 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
""2023-12-21 09:43:17 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Starting...
""2023-12-21 09:43:17 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Start completed.
""2023-12-21 09:43:17 [restartedMain] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
""2023-12-21 09:43:18 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "alter table user_role add constraint FKj345gk1bovqvfame88rcx7yyx foreign key (user_id) references users (id)" via JDBC Statement
"org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table user_role add constraint FKj345gk1bovqvfame88rcx7yyx foreign key (user_id) references users (id)" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:581) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:526) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:452) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:263) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:123) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:196) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.4.jar:2.7.4]
	at com.example.Lab_3.Lab3Application.main(Lab3Application.java:10) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.4.jar:2.7.4]
Caused by: java.sql.SQLException: Referencing column 'user_id' and referenced column 'id' in foreign key constraint 'FKj345gk1bovqvfame88rcx7yyx' are incompatible.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	... 36 common frames omitted
"2023-12-21 09:43:18 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2023-12-21 09:43:18 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2023-12-21 09:43:18 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2023-12-21 09:43:19 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@27525f1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@c94764e, org.springframework.security.web.context.SecurityContextPersistenceFilter@500bc6a3, org.springframework.security.web.header.HeaderWriterFilter@590faec0, org.springframework.security.web.csrf.CsrfFilter@6d588cde, org.springframework.security.web.authentication.logout.LogoutFilter@32fbbb5c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@23bbe020, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ce4174, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@211396a3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@745293d, org.springframework.security.web.session.SessionManagementFilter@799c8b32, org.springframework.security.web.access.ExceptionTranslationFilter@7ba555b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@623d2ce5]
""2023-12-21 09:43:25 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
""2023-12-21 09:43:26 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
""2023-12-21 09:43:26 [restartedMain] INFO  com.example.Lab_3.Lab3Application - Started Lab3Application in 10.732 seconds (JVM running for 365.934)
""2023-12-21 09:43:26 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation delta:


==========================
CONDITION EVALUATION DELTA
==========================


Positive matches:
-----------------

    None


Negative matches:
-----------------

   MailSenderAutoConfiguration:
      Did not match:
         - @ConditionalOnMissingBean (types: org.springframework.mail.MailSender; SearchStrategy: all) found beans of type 'org.springframework.mail.MailSender' getJavaMailSender (OnBeanCondition)
      Matched:
         - @ConditionalOnClass found required classes 'javax.mail.internet.MimeMessage', 'javax.activation.MimeType', 'org.springframework.mail.MailSender' (OnClassCondition)
         - AnyNestedCondition 1 matched 1 did not; NestedCondition on MailSenderAutoConfiguration.MailSenderCondition.JndiNameProperty @ConditionalOnProperty (spring.mail.jndi-name) did not find property 'jndi-name'; NestedCondition on MailSenderAutoConfiguration.MailSenderCondition.HostProperty @ConditionalOnProperty (spring.mail.host) matched (MailSenderAutoConfiguration.MailSenderCondition)


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



""2023-12-21 09:43:31 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
""2023-12-21 09:43:31 [Thread-23] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
""2023-12-21 09:43:32 [Thread-23] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
""2023-12-21 09:43:32 [Thread-23] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown initiated...
""2023-12-21 09:43:32 [Thread-23] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown completed.
""2023-12-21 09:43:33 [restartedMain] INFO  com.example.Lab_3.Lab3Application - Starting Lab3Application using Java 20.0.2 on NIKITA_PV with PID 12776 (C:\Users\Nikita\Desktop\Labs_3-1\Java\lab_3\Lab_3\target\classes started by Nikita in C:\Users\Nikita\Desktop\Labs_3-1\Java\lab_3\Lab_3)
""2023-12-21 09:43:33 [restartedMain] INFO  com.example.Lab_3.Lab3Application - No active profile set, falling back to 1 default profile: "default"
""2023-12-21 09:43:34 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2023-12-21 09:43:34 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 52 ms. Found 4 JPA repository interfaces.
""2023-12-21 09:43:34 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
""2023-12-21 09:43:34 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
""2023-12-21 09:43:34 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.65]
""2023-12-21 09:43:34 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
""2023-12-21 09:43:34 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1147 ms
""2023-12-21 09:43:34 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
""2023-12-21 09:43:34 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Starting...
""2023-12-21 09:43:35 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Start completed.
""2023-12-21 09:43:35 [restartedMain] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
""2023-12-21 09:43:35 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "alter table user_role add constraint FKj345gk1bovqvfame88rcx7yyx foreign key (user_id) references users (id)" via JDBC Statement
"org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table user_role add constraint FKj345gk1bovqvfame88rcx7yyx foreign key (user_id) references users (id)" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:581) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:526) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:452) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:263) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:123) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:196) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.4.jar:2.7.4]
	at com.example.Lab_3.Lab3Application.main(Lab3Application.java:10) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.4.jar:2.7.4]
Caused by: java.sql.SQLException: Referencing column 'user_id' and referenced column 'id' in foreign key constraint 'FKj345gk1bovqvfame88rcx7yyx' are incompatible.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	... 36 common frames omitted
"2023-12-21 09:43:35 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2023-12-21 09:43:35 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2023-12-21 09:43:36 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2023-12-21 09:43:36 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@43040450, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@701852a9, org.springframework.security.web.context.SecurityContextPersistenceFilter@1971f84e, org.springframework.security.web.header.HeaderWriterFilter@e5c63d6, org.springframework.security.web.csrf.CsrfFilter@1f64692b, org.springframework.security.web.authentication.logout.LogoutFilter@34e33d01, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@694ea7ca, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6d2c5967, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3c5c7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3b265043, org.springframework.security.web.session.SessionManagementFilter@25e0f0e8, org.springframework.security.web.access.ExceptionTranslationFilter@5b75eb8c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@396980]
""2023-12-21 09:43:37 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
""2023-12-21 09:43:37 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
""2023-12-21 09:43:37 [restartedMain] INFO  com.example.Lab_3.Lab3Application - Started Lab3Application in 4.391 seconds (JVM running for 377.173)
""2023-12-21 09:43:37 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation delta:


==========================
CONDITION EVALUATION DELTA
==========================


Positive matches:
-----------------

   MailSenderAutoConfiguration matched:
      - @ConditionalOnClass found required classes 'javax.mail.internet.MimeMessage', 'javax.activation.MimeType', 'org.springframework.mail.MailSender' (OnClassCondition)
      - AnyNestedCondition 1 matched 1 did not; NestedCondition on MailSenderAutoConfiguration.MailSenderCondition.JndiNameProperty @ConditionalOnProperty (spring.mail.jndi-name) did not find property 'jndi-name'; NestedCondition on MailSenderAutoConfiguration.MailSenderCondition.HostProperty @ConditionalOnProperty (spring.mail.host) matched (MailSenderAutoConfiguration.MailSenderCondition)
      - @ConditionalOnMissingBean (types: org.springframework.mail.MailSender; SearchStrategy: all) did not find any beans (OnBeanCondition)

   MailSenderPropertiesConfiguration#mailSender matched:
      - @ConditionalOnMissingBean (types: org.springframework.mail.javamail.JavaMailSender; SearchStrategy: all) did not find any beans (OnBeanCondition)


Negative matches:
-----------------

    None


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



""2023-12-21 09:43:38 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
""2023-12-21 09:43:39 [Thread-27] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
""2023-12-21 09:43:39 [Thread-27] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
""2023-12-21 09:43:39 [Thread-27] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Shutdown initiated...
""2023-12-21 09:43:39 [Thread-27] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Shutdown completed.
""2023-12-21 09:43:39 [restartedMain] INFO  com.example.Lab_3.Lab3Application - Starting Lab3Application using Java 20.0.2 on NIKITA_PV with PID 12776 (C:\Users\Nikita\Desktop\Labs_3-1\Java\lab_3\Lab_3\target\classes started by Nikita in C:\Users\Nikita\Desktop\Labs_3-1\Java\lab_3\Lab_3)
""2023-12-21 09:43:39 [restartedMain] INFO  com.example.Lab_3.Lab3Application - No active profile set, falling back to 1 default profile: "default"
""2023-12-21 09:43:39 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2023-12-21 09:43:39 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 40 ms. Found 4 JPA repository interfaces.
""2023-12-21 09:43:40 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
""2023-12-21 09:43:40 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
""2023-12-21 09:43:40 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.65]
""2023-12-21 09:43:40 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
""2023-12-21 09:43:40 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 912 ms
""2023-12-21 09:43:40 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
""2023-12-21 09:43:40 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Starting...
""2023-12-21 09:43:40 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Start completed.
""2023-12-21 09:43:40 [restartedMain] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
""2023-12-21 09:43:40 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "alter table user_role add constraint FKj345gk1bovqvfame88rcx7yyx foreign key (user_id) references users (id)" via JDBC Statement
"org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table user_role add constraint FKj345gk1bovqvfame88rcx7yyx foreign key (user_id) references users (id)" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:581) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:526) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:452) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:263) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:123) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:196) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.4.jar:2.7.4]
	at com.example.Lab_3.Lab3Application.main(Lab3Application.java:10) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.4.jar:2.7.4]
Caused by: java.sql.SQLException: Referencing column 'user_id' and referenced column 'id' in foreign key constraint 'FKj345gk1bovqvfame88rcx7yyx' are incompatible.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	... 36 common frames omitted
"2023-12-21 09:43:40 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2023-12-21 09:43:40 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2023-12-21 09:43:40 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2023-12-21 09:43:41 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@14c89646, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@21655953, org.springframework.security.web.context.SecurityContextPersistenceFilter@24b30317, org.springframework.security.web.header.HeaderWriterFilter@387fadbe, org.springframework.security.web.csrf.CsrfFilter@37109f88, org.springframework.security.web.authentication.logout.LogoutFilter@24ad652d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5743f878, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2b621238, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6eb558b7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7d1dd91, org.springframework.security.web.session.SessionManagementFilter@176c22ad, org.springframework.security.web.access.ExceptionTranslationFilter@5014be2, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5ca7d1e0]
""2023-12-21 09:43:41 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
""2023-12-21 09:43:41 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
""2023-12-21 09:43:41 [restartedMain] INFO  com.example.Lab_3.Lab3Application - Started Lab3Application in 2.797 seconds (JVM running for 381.553)
""2023-12-21 09:43:41 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation delta:


==========================
CONDITION EVALUATION DELTA
==========================


Positive matches:
-----------------

    None


Negative matches:
-----------------

   MailSenderAutoConfiguration:
      Did not match:
         - @ConditionalOnMissingBean (types: org.springframework.mail.MailSender; SearchStrategy: all) found beans of type 'org.springframework.mail.MailSender' getJavaMailSender (OnBeanCondition)
      Matched:
         - @ConditionalOnClass found required classes 'javax.mail.internet.MimeMessage', 'javax.activation.MimeType', 'org.springframework.mail.MailSender' (OnClassCondition)
         - AnyNestedCondition 1 matched 1 did not; NestedCondition on MailSenderAutoConfiguration.MailSenderCondition.JndiNameProperty @ConditionalOnProperty (spring.mail.jndi-name) did not find property 'jndi-name'; NestedCondition on MailSenderAutoConfiguration.MailSenderCondition.HostProperty @ConditionalOnProperty (spring.mail.host) matched (MailSenderAutoConfiguration.MailSenderCondition)


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



""2023-12-21 09:43:57 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
""2023-12-21 09:43:58 [Thread-31] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
""2023-12-21 09:43:58 [Thread-31] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
""2023-12-21 09:43:58 [Thread-31] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Shutdown initiated...
""2023-12-21 09:43:58 [Thread-31] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Shutdown completed.
""2023-12-21 09:43:59 [restartedMain] INFO  com.example.Lab_3.Lab3Application - Starting Lab3Application using Java 20.0.2 on NIKITA_PV with PID 12776 (C:\Users\Nikita\Desktop\Labs_3-1\Java\lab_3\Lab_3\target\classes started by Nikita in C:\Users\Nikita\Desktop\Labs_3-1\Java\lab_3\Lab_3)
""2023-12-21 09:43:59 [restartedMain] INFO  com.example.Lab_3.Lab3Application - No active profile set, falling back to 1 default profile: "default"
""2023-12-21 09:43:59 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2023-12-21 09:43:59 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 44 ms. Found 4 JPA repository interfaces.
""2023-12-21 09:44:00 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
""2023-12-21 09:44:00 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
""2023-12-21 09:44:00 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.65]
""2023-12-21 09:44:00 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
""2023-12-21 09:44:00 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 964 ms
""2023-12-21 09:44:00 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
""2023-12-21 09:44:00 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-9 - Starting...
""2023-12-21 09:44:00 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-9 - Start completed.
""2023-12-21 09:44:00 [restartedMain] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
""2023-12-21 09:44:01 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "alter table user_role add constraint FKj345gk1bovqvfame88rcx7yyx foreign key (user_id) references users (id)" via JDBC Statement
"org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table user_role add constraint FKj345gk1bovqvfame88rcx7yyx foreign key (user_id) references users (id)" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:581) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:526) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:452) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:263) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:123) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:196) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.4.jar:2.7.4]
	at com.example.Lab_3.Lab3Application.main(Lab3Application.java:10) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.4.jar:2.7.4]
Caused by: java.sql.SQLException: Referencing column 'user_id' and referenced column 'id' in foreign key constraint 'FKj345gk1bovqvfame88rcx7yyx' are incompatible.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	... 36 common frames omitted
"2023-12-21 09:44:01 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2023-12-21 09:44:01 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2023-12-21 09:44:01 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2023-12-21 09:44:01 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1c523942, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@e52a102, org.springframework.security.web.context.SecurityContextPersistenceFilter@5bee93e2, org.springframework.security.web.header.HeaderWriterFilter@21405609, org.springframework.security.web.csrf.CsrfFilter@29d0e4c6, org.springframework.security.web.authentication.logout.LogoutFilter@36af2057, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@ad2cdfd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7aae68bc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@597d89fe, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@45e17f9d, org.springframework.security.web.session.SessionManagementFilter@75b6af46, org.springframework.security.web.access.ExceptionTranslationFilter@416c01b2, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7647a7e2]
""2023-12-21 09:44:02 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
""2023-12-21 09:44:02 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
""2023-12-21 09:44:02 [restartedMain] INFO  com.example.Lab_3.Lab3Application - Started Lab3Application in 3.488 seconds (JVM running for 402.144)
""2023-12-21 09:44:02 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation delta:


==========================
CONDITION EVALUATION DELTA
==========================


Positive matches:
-----------------

   MailSenderAutoConfiguration matched:
      - @ConditionalOnClass found required classes 'javax.mail.internet.MimeMessage', 'javax.activation.MimeType', 'org.springframework.mail.MailSender' (OnClassCondition)
      - AnyNestedCondition 1 matched 1 did not; NestedCondition on MailSenderAutoConfiguration.MailSenderCondition.JndiNameProperty @ConditionalOnProperty (spring.mail.jndi-name) did not find property 'jndi-name'; NestedCondition on MailSenderAutoConfiguration.MailSenderCondition.HostProperty @ConditionalOnProperty (spring.mail.host) matched (MailSenderAutoConfiguration.MailSenderCondition)
      - @ConditionalOnMissingBean (types: org.springframework.mail.MailSender; SearchStrategy: all) did not find any beans (OnBeanCondition)

   MailSenderPropertiesConfiguration#mailSender matched:
      - @ConditionalOnMissingBean (types: org.springframework.mail.javamail.JavaMailSender; SearchStrategy: all) did not find any beans (OnBeanCondition)


Negative matches:
-----------------

    None


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



""2023-12-21 09:44:03 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
""2023-12-21 09:44:04 [Thread-35] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
""2023-12-21 09:44:04 [Thread-35] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
""2023-12-21 09:44:04 [Thread-35] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-9 - Shutdown initiated...
""2023-12-21 09:44:04 [Thread-35] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-9 - Shutdown completed.
""2023-12-21 09:44:04 [restartedMain] INFO  com.example.Lab_3.Lab3Application - Starting Lab3Application using Java 20.0.2 on NIKITA_PV with PID 12776 (C:\Users\Nikita\Desktop\Labs_3-1\Java\lab_3\Lab_3\target\classes started by Nikita in C:\Users\Nikita\Desktop\Labs_3-1\Java\lab_3\Lab_3)
""2023-12-21 09:44:04 [restartedMain] INFO  com.example.Lab_3.Lab3Application - No active profile set, falling back to 1 default profile: "default"
""2023-12-21 09:44:04 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2023-12-21 09:44:04 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 44 ms. Found 4 JPA repository interfaces.
""2023-12-21 09:44:05 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
""2023-12-21 09:44:05 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
""2023-12-21 09:44:05 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.65]
""2023-12-21 09:44:05 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
""2023-12-21 09:44:05 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 927 ms
""2023-12-21 09:44:05 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
""2023-12-21 09:44:05 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-10 - Starting...
""2023-12-21 09:44:05 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-10 - Start completed.
""2023-12-21 09:44:05 [restartedMain] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
""2023-12-21 09:44:05 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "alter table user_role add constraint FKj345gk1bovqvfame88rcx7yyx foreign key (user_id) references users (id)" via JDBC Statement
"org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table user_role add constraint FKj345gk1bovqvfame88rcx7yyx foreign key (user_id) references users (id)" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:581) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:526) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:452) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:263) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:123) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:196) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.4.jar:2.7.4]
	at com.example.Lab_3.Lab3Application.main(Lab3Application.java:10) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.4.jar:2.7.4]
Caused by: java.sql.SQLException: Referencing column 'user_id' and referenced column 'id' in foreign key constraint 'FKj345gk1bovqvfame88rcx7yyx' are incompatible.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	... 36 common frames omitted
"2023-12-21 09:44:05 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2023-12-21 09:44:05 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2023-12-21 09:44:05 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2023-12-21 09:44:06 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5bf45a5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@21be1773, org.springframework.security.web.context.SecurityContextPersistenceFilter@83ed562, org.springframework.security.web.header.HeaderWriterFilter@520b2ef3, org.springframework.security.web.csrf.CsrfFilter@27f936ef, org.springframework.security.web.authentication.logout.LogoutFilter@1d13dfa2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2bf0f47e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@13bdbc56, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@36ba7ea9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@33cba63b, org.springframework.security.web.session.SessionManagementFilter@669ed910, org.springframework.security.web.access.ExceptionTranslationFilter@7554b3a5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7b2baad]
""2023-12-21 09:44:07 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
""2023-12-21 09:44:07 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
""2023-12-21 09:44:07 [restartedMain] INFO  com.example.Lab_3.Lab3Application - Started Lab3Application in 2.959 seconds (JVM running for 406.761)
""2023-12-21 09:44:07 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation delta:


==========================
CONDITION EVALUATION DELTA
==========================


Positive matches:
-----------------

    None


Negative matches:
-----------------

   MailSenderAutoConfiguration:
      Did not match:
         - @ConditionalOnMissingBean (types: org.springframework.mail.MailSender; SearchStrategy: all) found beans of type 'org.springframework.mail.MailSender' getJavaMailSender (OnBeanCondition)
      Matched:
         - @ConditionalOnClass found required classes 'javax.mail.internet.MimeMessage', 'javax.activation.MimeType', 'org.springframework.mail.MailSender' (OnClassCondition)
         - AnyNestedCondition 1 matched 1 did not; NestedCondition on MailSenderAutoConfiguration.MailSenderCondition.JndiNameProperty @ConditionalOnProperty (spring.mail.jndi-name) did not find property 'jndi-name'; NestedCondition on MailSenderAutoConfiguration.MailSenderCondition.HostProperty @ConditionalOnProperty (spring.mail.host) matched (MailSenderAutoConfiguration.MailSenderCondition)


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



""2023-12-21 09:44:12 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
""2023-12-21 09:44:12 [Thread-39] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
""2023-12-21 09:44:12 [Thread-39] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
""2023-12-21 09:44:12 [Thread-39] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-10 - Shutdown initiated...
""2023-12-21 09:44:13 [Thread-39] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-10 - Shutdown completed.
""2023-12-21 09:44:13 [restartedMain] INFO  com.example.Lab_3.Lab3Application - Starting Lab3Application using Java 20.0.2 on NIKITA_PV with PID 12776 (C:\Users\Nikita\Desktop\Labs_3-1\Java\lab_3\Lab_3\target\classes started by Nikita in C:\Users\Nikita\Desktop\Labs_3-1\Java\lab_3\Lab_3)
""2023-12-21 09:44:13 [restartedMain] INFO  com.example.Lab_3.Lab3Application - No active profile set, falling back to 1 default profile: "default"
""2023-12-21 09:44:14 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2023-12-21 09:44:14 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 69 ms. Found 4 JPA repository interfaces.
""2023-12-21 09:44:14 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
""2023-12-21 09:44:14 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
""2023-12-21 09:44:14 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.65]
""2023-12-21 09:44:15 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
""2023-12-21 09:44:15 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1510 ms
""2023-12-21 09:44:15 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
""2023-12-21 09:44:15 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-11 - Starting...
""2023-12-21 09:44:15 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-11 - Start completed.
""2023-12-21 09:44:15 [restartedMain] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
""2023-12-21 09:44:15 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "alter table user_role add constraint FKj345gk1bovqvfame88rcx7yyx foreign key (user_id) references users (id)" via JDBC Statement
"org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table user_role add constraint FKj345gk1bovqvfame88rcx7yyx foreign key (user_id) references users (id)" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:581) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:526) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:452) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:263) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:123) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:196) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.4.jar:2.7.4]
	at com.example.Lab_3.Lab3Application.main(Lab3Application.java:10) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.4.jar:2.7.4]
Caused by: java.sql.SQLException: Referencing column 'user_id' and referenced column 'id' in foreign key constraint 'FKj345gk1bovqvfame88rcx7yyx' are incompatible.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	... 36 common frames omitted
"2023-12-21 09:44:15 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2023-12-21 09:44:15 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2023-12-21 09:44:16 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2023-12-21 09:44:16 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@ecc6ac0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@64691fa3, org.springframework.security.web.context.SecurityContextPersistenceFilter@34714c02, org.springframework.security.web.header.HeaderWriterFilter@48b93869, org.springframework.security.web.csrf.CsrfFilter@7edf47d1, org.springframework.security.web.authentication.logout.LogoutFilter@77638aa9, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@42310fc6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5b90e4f2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5a6bf599, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@709fd619, org.springframework.security.web.session.SessionManagementFilter@3094740e, org.springframework.security.web.access.ExceptionTranslationFilter@d8c404e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@41daa710]
""2023-12-21 09:44:17 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
""2023-12-21 09:44:17 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
""2023-12-21 09:44:17 [restartedMain] INFO  com.example.Lab_3.Lab3Application - Started Lab3Application in 4.477 seconds (JVM running for 417.514)
""2023-12-21 09:44:17 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
""2023-12-21 09:45:55 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
""2023-12-21 09:45:55 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
""2023-12-21 09:45:55 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
""2023-12-21 09:45:55 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 21 ms
""2023-12-21 09:45:55 [Thread-43] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
""2023-12-21 09:45:55 [Thread-43] INFO  o.a.catalina.core.StandardWrapper - Waiting for [1] instance(s) to be deallocated for Servlet [dispatcherServlet]
""2023-12-21 09:45:56 [http-nio-8080-exec-1] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 09:45:56 [http-nio-8080-exec-1] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 09:45:56 [http-nio-8080-exec-1] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 09:45:56 [Thread-43] INFO  o.a.catalina.core.StandardWrapper - Waiting for [1] instance(s) to be deallocated for Servlet [dispatcherServlet]
""2023-12-21 09:45:57 [http-nio-8080-exec-1] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 09:45:57 [http-nio-8080-exec-1] INFO  freemarker.beans - Detected multiple classes with the same name, "com.example.Lab_3.models.User". Assuming it was a class-reloading. Clearing class introspection caches to release old data.
""2023-12-21 09:45:57 [Thread-43] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
""2023-12-21 09:45:58 [Thread-43] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
""2023-12-21 09:45:58 [Thread-43] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-11 - Shutdown initiated...
""2023-12-21 09:45:58 [Thread-43] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-11 - Shutdown completed.
""2023-12-21 09:45:59 [restartedMain] INFO  com.example.Lab_3.Lab3Application - Starting Lab3Application using Java 20.0.2 on NIKITA_PV with PID 12776 (C:\Users\Nikita\Desktop\Labs_3-1\Java\lab_3\Lab_3\target\classes started by Nikita in C:\Users\Nikita\Desktop\Labs_3-1\Java\lab_3\Lab_3)
""2023-12-21 09:45:59 [restartedMain] INFO  com.example.Lab_3.Lab3Application - No active profile set, falling back to 1 default profile: "default"
""2023-12-21 09:46:00 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2023-12-21 09:46:00 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 75 ms. Found 4 JPA repository interfaces.
""2023-12-21 09:46:00 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
""2023-12-21 09:46:00 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
""2023-12-21 09:46:00 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.65]
""2023-12-21 09:46:01 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
""2023-12-21 09:46:01 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1778 ms
""2023-12-21 09:46:01 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
""2023-12-21 09:46:01 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-12 - Starting...
""2023-12-21 09:46:01 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-12 - Start completed.
""2023-12-21 09:46:01 [restartedMain] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
""2023-12-21 09:46:02 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "alter table user_role add constraint FKj345gk1bovqvfame88rcx7yyx foreign key (user_id) references users (id)" via JDBC Statement
"org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table user_role add constraint FKj345gk1bovqvfame88rcx7yyx foreign key (user_id) references users (id)" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:581) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:526) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:452) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:263) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:123) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:196) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.4.jar:2.7.4]
	at com.example.Lab_3.Lab3Application.main(Lab3Application.java:10) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.4.jar:2.7.4]
Caused by: java.sql.SQLException: Referencing column 'user_id' and referenced column 'id' in foreign key constraint 'FKj345gk1bovqvfame88rcx7yyx' are incompatible.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	... 36 common frames omitted
"2023-12-21 09:46:02 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2023-12-21 09:46:02 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2023-12-21 09:46:03 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2023-12-21 09:46:04 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@55c8cddb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3f2bb84d, org.springframework.security.web.context.SecurityContextPersistenceFilter@e945dcb, org.springframework.security.web.header.HeaderWriterFilter@291cfc7e, org.springframework.security.web.csrf.CsrfFilter@348d964e, org.springframework.security.web.authentication.logout.LogoutFilter@3386018d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1f1fd33d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1c6479, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7e3c7ec2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@49b85cf9, org.springframework.security.web.session.SessionManagementFilter@f9c9aae, org.springframework.security.web.access.ExceptionTranslationFilter@32f07859, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6f933ed7]
""2023-12-21 09:46:06 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
""2023-12-21 09:46:06 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
""2023-12-21 09:46:06 [restartedMain] INFO  com.example.Lab_3.Lab3Application - Started Lab3Application in 7.333 seconds (JVM running for 525.966)
""2023-12-21 09:46:06 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
""2023-12-21 09:46:07 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
""2023-12-21 09:46:07 [Thread-47] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
""2023-12-21 09:46:07 [Thread-47] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
""2023-12-21 09:46:07 [Thread-47] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-12 - Shutdown initiated...
""2023-12-21 09:46:08 [Thread-47] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-12 - Shutdown completed.
""2023-12-21 09:46:08 [restartedMain] INFO  com.example.Lab_3.Lab3Application - Starting Lab3Application using Java 20.0.2 on NIKITA_PV with PID 12776 (C:\Users\Nikita\Desktop\Labs_3-1\Java\lab_3\Lab_3\target\classes started by Nikita in C:\Users\Nikita\Desktop\Labs_3-1\Java\lab_3\Lab_3)
""2023-12-21 09:46:08 [restartedMain] INFO  com.example.Lab_3.Lab3Application - No active profile set, falling back to 1 default profile: "default"
""2023-12-21 09:46:11 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2023-12-21 09:46:11 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 271 ms. Found 4 JPA repository interfaces.
""2023-12-21 09:46:13 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
""2023-12-21 09:46:13 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
""2023-12-21 09:46:13 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.65]
""2023-12-21 09:46:13 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
""2023-12-21 09:46:13 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5018 ms
""2023-12-21 09:46:14 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
""2023-12-21 09:46:14 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-13 - Starting...
""2023-12-21 09:46:15 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-13 - Start completed.
""2023-12-21 09:46:15 [restartedMain] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
""2023-12-21 09:46:16 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "alter table user_role add constraint FKj345gk1bovqvfame88rcx7yyx foreign key (user_id) references users (id)" via JDBC Statement
"org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table user_role add constraint FKj345gk1bovqvfame88rcx7yyx foreign key (user_id) references users (id)" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:581) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:526) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:452) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:263) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:123) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:196) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.4.jar:2.7.4]
	at com.example.Lab_3.Lab3Application.main(Lab3Application.java:10) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.4.jar:2.7.4]
Caused by: java.sql.SQLException: Referencing column 'user_id' and referenced column 'id' in foreign key constraint 'FKj345gk1bovqvfame88rcx7yyx' are incompatible.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	... 36 common frames omitted
"2023-12-21 09:46:16 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2023-12-21 09:46:16 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2023-12-21 09:46:17 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2023-12-21 09:46:17 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@83b745e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@52df71d6, org.springframework.security.web.context.SecurityContextPersistenceFilter@1256c57a, org.springframework.security.web.header.HeaderWriterFilter@4b8b4eb8, org.springframework.security.web.csrf.CsrfFilter@508630e4, org.springframework.security.web.authentication.logout.LogoutFilter@5da40e0b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@70f9575d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2d36f032, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3cd985a2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@63606378, org.springframework.security.web.session.SessionManagementFilter@7336cae8, org.springframework.security.web.access.ExceptionTranslationFilter@7e9828fa, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5dfd8e63]
""2023-12-21 09:46:18 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
""2023-12-21 09:46:18 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
""2023-12-21 09:46:18 [restartedMain] INFO  com.example.Lab_3.Lab3Application - Started Lab3Application in 10.234 seconds (JVM running for 538.438)
""2023-12-21 09:46:18 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
""2023-12-21 09:46:43 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
""2023-12-21 09:46:43 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
""2023-12-21 09:46:43 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 49 ms
""2023-12-21 09:46:43 [http-nio-8080-exec-1] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 09:46:43 [http-nio-8080-exec-1] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 09:46:44 [http-nio-8080-exec-1] INFO  freemarker.beans - Detected multiple classes with the same name, "com.example.Lab_3.models.User". Assuming it was a class-reloading. Clearing class introspection caches to release old data.
""2023-12-21 09:46:44 [http-nio-8080-exec-1] WARN  o.a.c.util.SessionIdGeneratorBase - Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [180] milliseconds.
""2023-12-21 09:46:46 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
""2023-12-21 09:46:46 [Thread-51] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
""2023-12-21 09:46:46 [Thread-51] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
""2023-12-21 09:46:46 [Thread-51] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
""2023-12-21 09:46:46 [Thread-51] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-13 - Shutdown initiated...
""2023-12-21 09:46:46 [Thread-51] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-13 - Shutdown completed.
""2023-12-21 09:46:48 [restartedMain] INFO  com.example.Lab_3.Lab3Application - Starting Lab3Application using Java 20.0.2 on NIKITA_PV with PID 12776 (C:\Users\Nikita\Desktop\Labs_3-1\Java\lab_3\Lab_3\target\classes started by Nikita in C:\Users\Nikita\Desktop\Labs_3-1\Java\lab_3\Lab_3)
""2023-12-21 09:46:48 [restartedMain] INFO  com.example.Lab_3.Lab3Application - No active profile set, falling back to 1 default profile: "default"
""2023-12-21 09:46:48 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2023-12-21 09:46:48 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 66 ms. Found 4 JPA repository interfaces.
""2023-12-21 09:46:49 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
""2023-12-21 09:46:49 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
""2023-12-21 09:46:49 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.65]
""2023-12-21 09:46:49 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
""2023-12-21 09:46:49 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1549 ms
""2023-12-21 09:46:49 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
""2023-12-21 09:46:49 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-14 - Starting...
""2023-12-21 09:46:49 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-14 - Start completed.
""2023-12-21 09:46:49 [restartedMain] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
""2023-12-21 09:46:50 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "alter table user_role add constraint FKj345gk1bovqvfame88rcx7yyx foreign key (user_id) references users (id)" via JDBC Statement
"org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table user_role add constraint FKj345gk1bovqvfame88rcx7yyx foreign key (user_id) references users (id)" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:581) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:526) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:452) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:263) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:123) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:196) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.4.jar:2.7.4]
	at com.example.Lab_3.Lab3Application.main(Lab3Application.java:10) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.4.jar:2.7.4]
Caused by: java.sql.SQLException: Referencing column 'user_id' and referenced column 'id' in foreign key constraint 'FKj345gk1bovqvfame88rcx7yyx' are incompatible.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	... 36 common frames omitted
"2023-12-21 09:46:50 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2023-12-21 09:46:50 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2023-12-21 09:46:50 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2023-12-21 09:46:51 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5ff115ee, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3c8040ed, org.springframework.security.web.context.SecurityContextPersistenceFilter@6473fa32, org.springframework.security.web.header.HeaderWriterFilter@4cc7ef98, org.springframework.security.web.csrf.CsrfFilter@51ca6a33, org.springframework.security.web.authentication.logout.LogoutFilter@34b7099a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@68ffd3ca, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@e073ea0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7d4fbbd7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2b230f00, org.springframework.security.web.session.SessionManagementFilter@666a8f3e, org.springframework.security.web.access.ExceptionTranslationFilter@aac064a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@14906491]
""2023-12-21 09:46:52 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
""2023-12-21 09:46:52 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
""2023-12-21 09:46:52 [restartedMain] INFO  com.example.Lab_3.Lab3Application - Started Lab3Application in 4.377 seconds (JVM running for 571.879)
""2023-12-21 09:46:52 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
""2023-12-21 09:46:53 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
""2023-12-21 09:46:53 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
""2023-12-21 09:46:53 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 30 ms
""2023-12-21 09:46:54 [http-nio-8080-exec-2] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 09:46:54 [http-nio-8080-exec-2] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 09:46:54 [http-nio-8080-exec-2] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 09:46:54 [http-nio-8080-exec-2] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 09:46:54 [http-nio-8080-exec-2] INFO  freemarker.beans - Detected multiple classes with the same name, "com.example.Lab_3.models.User". Assuming it was a class-reloading. Clearing class introspection caches to release old data.
""2023-12-21 09:46:57 [http-nio-8080-exec-10] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(Product com.example.Lab_3.services.ProductService.getProductById(Long))
""2023-12-21 09:46:57 [http-nio-8080-exec-10] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(Product com.example.Lab_3.services.ProductService.getProductById(Long))
""2023-12-21 09:46:57 [http-nio-8080-exec-10] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 09:46:57 [http-nio-8080-exec-10] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 09:47:00 [http-nio-8080-exec-4] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 09:47:00 [http-nio-8080-exec-4] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 09:47:10 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
""2023-12-21 09:47:10 [Thread-55] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
""2023-12-21 09:47:10 [Thread-55] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
""2023-12-21 09:47:11 [Thread-55] WARN  o.a.c.c.C.[Tomcat].[localhost].[/] - Cannot serialize session attribute [SPRING_SECURITY_CONTEXT] for session [19793D69BC86AD3B5AAF60904424604E]
"java.io.NotSerializableException: com.example.Lab_3.models.Product
	at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1196) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:355) ~[na:na]
	at java.base/java.util.ArrayList.writeObject(ArrayList.java:866) ~[na:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]
	at java.base/java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:1070) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1525) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1447) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1190) ~[na:na]
	at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1581) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1538) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1447) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1190) ~[na:na]
	at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1581) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1538) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1447) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1190) ~[na:na]
	at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1581) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1538) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1447) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1190) ~[na:na]
	at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1581) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1538) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1447) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1190) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:355) ~[na:na]
	at org.apache.catalina.session.StandardSession.doWriteObject(StandardSession.java:1726) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.session.StandardSession.writeObjectData(StandardSession.java:1067) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.session.StandardManager.doUnload(StandardManager.java:317) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.session.StandardManager.unload(StandardManager.java:268) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.session.StandardManager.stopInternal(StandardManager.java:384) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5473) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1412) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1401) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:986) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1412) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1401) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:986) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardService.stopInternal(StandardService.java:497) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardServer.stopInternal(StandardServer.java:982) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.startup.Tomcat.stop(Tomcat.java:496) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stopTomcat(TomcatWebServer.java:273) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stop(TomcatWebServer.java:331) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.web.servlet.context.WebServerStartStopLifecycle.stop(WebServerStartStopLifecycle.java:52) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.context.SmartLifecycle.stop(SmartLifecycle.java:117) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStop(DefaultLifecycleProcessor.java:234) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.DefaultLifecycleProcessor.access$300(DefaultLifecycleProcessor.java:54) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.stop(DefaultLifecycleProcessor.java:373) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.DefaultLifecycleProcessor.stopBeans(DefaultLifecycleProcessor.java:206) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.DefaultLifecycleProcessor.onClose(DefaultLifecycleProcessor.java:129) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1067) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1021) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.boot.devtools.restart.Restarter.stop(Restarter.java:309) ~[spring-boot-devtools-2.7.4.jar:2.7.4]
	at org.springframework.boot.devtools.restart.Restarter.lambda$restart$1(Restarter.java:251) ~[spring-boot-devtools-2.7.4.jar:2.7.4]
	at org.springframework.boot.devtools.restart.Restarter$LeakSafeThread.run(Restarter.java:629) ~[spring-boot-devtools-2.7.4.jar:2.7.4]
"2023-12-21 09:47:11 [Thread-55] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
""2023-12-21 09:47:11 [Thread-55] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-14 - Shutdown initiated...
""2023-12-21 09:47:11 [Thread-55] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-14 - Shutdown completed.
""2023-12-21 09:47:13 [restartedMain] INFO  com.example.Lab_3.Lab3Application - Starting Lab3Application using Java 20.0.2 on NIKITA_PV with PID 12776 (C:\Users\Nikita\Desktop\Labs_3-1\Java\lab_3\Lab_3\target\classes started by Nikita in C:\Users\Nikita\Desktop\Labs_3-1\Java\lab_3\Lab_3)
""2023-12-21 09:47:13 [restartedMain] INFO  com.example.Lab_3.Lab3Application - No active profile set, falling back to 1 default profile: "default"
""2023-12-21 09:47:14 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2023-12-21 09:47:14 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 73 ms. Found 4 JPA repository interfaces.
""2023-12-21 09:47:15 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
""2023-12-21 09:47:15 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
""2023-12-21 09:47:15 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.65]
""2023-12-21 09:47:15 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
""2023-12-21 09:47:15 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1803 ms
""2023-12-21 09:47:15 [restartedMain] WARN  o.a.c.c.C.[Tomcat].[localhost].[/] - Cannot deserialize session attribute [SPRING_SECURITY_CONTEXT] for session [19793D69BC86AD3B5AAF60904424604E]
""2023-12-21 09:47:16 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
""2023-12-21 09:47:16 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-15 - Starting...
""2023-12-21 09:47:16 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-15 - Start completed.
""2023-12-21 09:47:16 [restartedMain] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
""2023-12-21 09:47:17 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "alter table user_role add constraint FKj345gk1bovqvfame88rcx7yyx foreign key (user_id) references users (id)" via JDBC Statement
"org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table user_role add constraint FKj345gk1bovqvfame88rcx7yyx foreign key (user_id) references users (id)" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:581) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:526) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:452) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:263) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:123) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:196) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.4.jar:2.7.4]
	at com.example.Lab_3.Lab3Application.main(Lab3Application.java:10) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.4.jar:2.7.4]
Caused by: java.sql.SQLException: Referencing column 'user_id' and referenced column 'id' in foreign key constraint 'FKj345gk1bovqvfame88rcx7yyx' are incompatible.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	... 36 common frames omitted
"2023-12-21 09:47:17 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2023-12-21 09:47:17 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2023-12-21 09:47:17 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2023-12-21 09:47:18 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6bc7efa6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4bec1e6d, org.springframework.security.web.context.SecurityContextPersistenceFilter@21e0aece, org.springframework.security.web.header.HeaderWriterFilter@2cba2470, org.springframework.security.web.csrf.CsrfFilter@244fe890, org.springframework.security.web.authentication.logout.LogoutFilter@286397b2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@abe744a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@d6a8d72, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@708ea10b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@29855be3, org.springframework.security.web.session.SessionManagementFilter@7a30c270, org.springframework.security.web.access.ExceptionTranslationFilter@5c6e1911, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@51b677a4]
""2023-12-21 09:47:19 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
""2023-12-21 09:47:19 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
""2023-12-21 09:47:19 [restartedMain] INFO  com.example.Lab_3.Lab3Application - Started Lab3Application in 5.706 seconds (JVM running for 598.852)
""2023-12-21 09:47:19 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
""2023-12-21 09:47:23 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
""2023-12-21 09:47:23 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
""2023-12-21 09:47:23 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 57 ms
""2023-12-21 09:47:25 [http-nio-8080-exec-2] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 09:47:25 [http-nio-8080-exec-2] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 09:47:25 [http-nio-8080-exec-2] INFO  freemarker.beans - Detected multiple classes with the same name, "com.example.Lab_3.models.User". Assuming it was a class-reloading. Clearing class introspection caches to release old data.
""2023-12-21 09:48:05 [http-nio-8080-exec-7] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 09:48:05 [http-nio-8080-exec-7] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 09:48:12 [http-nio-8080-exec-10] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 09:48:12 [http-nio-8080-exec-10] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 09:48:14 [http-nio-8080-exec-5] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 09:48:14 [http-nio-8080-exec-5] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 09:48:51 [http-nio-8080-exec-7] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 09:48:51 [http-nio-8080-exec-7] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 09:48:51 [http-nio-8080-exec-7] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(List com.example.Lab_3.services.ProductService.listProductsforall())
""2023-12-21 09:48:51 [http-nio-8080-exec-7] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(List com.example.Lab_3.services.ProductService.listProductsforall())
""2023-12-21 09:48:54 [http-nio-8080-exec-4] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 09:48:54 [http-nio-8080-exec-4] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 09:48:54 [http-nio-8080-exec-4] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 09:48:54 [http-nio-8080-exec-4] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 09:48:59 [http-nio-8080-exec-2] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(Product com.example.Lab_3.services.ProductService.getProductById(Long))
""2023-12-21 09:48:59 [http-nio-8080-exec-2] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(Product com.example.Lab_3.services.ProductService.getProductById(Long))
""2023-12-21 09:48:59 [http-nio-8080-exec-2] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 09:48:59 [http-nio-8080-exec-2] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 09:49:04 [http-nio-8080-exec-1] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(Product com.example.Lab_3.services.ProductService.getProductById(Long))
""2023-12-21 09:49:04 [http-nio-8080-exec-1] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(Product com.example.Lab_3.services.ProductService.getProductById(Long))
""2023-12-21 09:49:04 [http-nio-8080-exec-1] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 09:49:04 [http-nio-8080-exec-1] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 09:49:05 [http-nio-8080-exec-9] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 09:49:05 [http-nio-8080-exec-9] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 09:49:07 [http-nio-8080-exec-10] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 09:49:07 [http-nio-8080-exec-10] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 09:49:07 [http-nio-8080-exec-10] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(List com.example.Lab_3.services.ProductService.listProductsforall())
""2023-12-21 09:49:07 [http-nio-8080-exec-10] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(List com.example.Lab_3.services.ProductService.listProductsforall())
""2023-12-21 09:50:07 [http-nio-8080-exec-3] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 09:50:07 [http-nio-8080-exec-3] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 09:50:19 [http-nio-8080-exec-1] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 09:50:20 [http-nio-8080-exec-1] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 09:50:20 [http-nio-8080-exec-1] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 09:50:20 [http-nio-8080-exec-1] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 09:50:23 [http-nio-8080-exec-6] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(Product com.example.Lab_3.services.ProductService.getProductById(Long))
""2023-12-21 09:50:23 [http-nio-8080-exec-6] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(Product com.example.Lab_3.services.ProductService.getProductById(Long))
""2023-12-21 09:50:23 [http-nio-8080-exec-6] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 09:50:23 [http-nio-8080-exec-6] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 09:50:56 [http-nio-8080-exec-8] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 09:50:57 [http-nio-8080-exec-8] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 09:51:00 [http-nio-8080-exec-7] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(List com.example.Lab_3.services.UserService.list())
""2023-12-21 09:51:00 [http-nio-8080-exec-7] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(List com.example.Lab_3.services.UserService.list())
""2023-12-21 09:51:00 [http-nio-8080-exec-7] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 09:51:00 [http-nio-8080-exec-7] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 09:51:02 [http-nio-8080-exec-4] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 09:51:02 [http-nio-8080-exec-4] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 09:51:04 [http-nio-8080-exec-5] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 09:51:04 [http-nio-8080-exec-5] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 09:51:36 [http-nio-8080-exec-7] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 09:51:36 [http-nio-8080-exec-7] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 09:51:36 [http-nio-8080-exec-7] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 09:51:36 [http-nio-8080-exec-7] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 09:51:40 [http-nio-8080-exec-6] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(void com.example.Lab_3.services.ProductService.addtoorder(Order,Long,Principal))
""2023-12-21 09:51:40 [http-nio-8080-exec-6] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(void com.example.Lab_3.services.ProductService.addtoorder(Order,Long,Principal))
""2023-12-21 09:51:40 [http-nio-8080-exec-7] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 09:51:40 [http-nio-8080-exec-7] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 09:51:40 [http-nio-8080-exec-7] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 09:51:40 [http-nio-8080-exec-7] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 09:51:42 [http-nio-8080-exec-6] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(void com.example.Lab_3.services.ProductService.addtoorder(Order,Long,Principal))
""2023-12-21 09:51:42 [http-nio-8080-exec-6] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(void com.example.Lab_3.services.ProductService.addtoorder(Order,Long,Principal))
""2023-12-21 09:51:42 [http-nio-8080-exec-7] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 09:51:42 [http-nio-8080-exec-7] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 09:51:42 [http-nio-8080-exec-7] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 09:51:43 [http-nio-8080-exec-7] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 09:51:45 [http-nio-8080-exec-6] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 09:51:45 [http-nio-8080-exec-6] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 09:51:48 [http-nio-8080-exec-1] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 09:51:48 [http-nio-8080-exec-1] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 09:51:53 [http-nio-8080-exec-8] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 09:51:53 [http-nio-8080-exec-8] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 09:52:05 [http-nio-8080-exec-7] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 09:52:05 [http-nio-8080-exec-7] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 09:52:05 [http-nio-8080-exec-7] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 09:52:05 [http-nio-8080-exec-7] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 09:52:08 [http-nio-8080-exec-6] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 09:52:08 [http-nio-8080-exec-6] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 09:52:10 [http-nio-8080-exec-4] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 09:52:10 [http-nio-8080-exec-4] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 09:52:10 [http-nio-8080-exec-4] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 09:52:10 [http-nio-8080-exec-4] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 09:59:14 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
""2023-12-21 09:59:15 [Thread-59] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
""2023-12-21 09:59:15 [Thread-59] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
""2023-12-21 09:59:15 [Thread-59] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
""2023-12-21 09:59:15 [Thread-59] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-15 - Shutdown initiated...
""2023-12-21 09:59:16 [Thread-59] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-15 - Shutdown completed.
""2023-12-21 09:59:18 [restartedMain] INFO  com.example.Lab_3.Lab3Application - Starting Lab3Application using Java 20.0.2 on NIKITA_PV with PID 12776 (C:\Users\Nikita\Desktop\Labs_3-1\Java\lab_3\Lab_3\target\classes started by Nikita in C:\Users\Nikita\Desktop\Labs_3-1\Java\lab_3\Lab_3)
""2023-12-21 09:59:18 [restartedMain] INFO  com.example.Lab_3.Lab3Application - No active profile set, falling back to 1 default profile: "default"
""2023-12-21 09:59:19 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2023-12-21 09:59:19 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 99 ms. Found 4 JPA repository interfaces.
""2023-12-21 09:59:20 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
""2023-12-21 09:59:20 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
""2023-12-21 09:59:20 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.65]
""2023-12-21 09:59:20 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
""2023-12-21 09:59:20 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2595 ms
""2023-12-21 09:59:21 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
""2023-12-21 09:59:21 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-16 - Starting...
""2023-12-21 09:59:22 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-16 - Start completed.
""2023-12-21 09:59:22 [restartedMain] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
""2023-12-21 09:59:23 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "alter table user_role add constraint FKj345gk1bovqvfame88rcx7yyx foreign key (user_id) references users (id)" via JDBC Statement
"org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table user_role add constraint FKj345gk1bovqvfame88rcx7yyx foreign key (user_id) references users (id)" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:581) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:526) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:452) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:263) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:123) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:196) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.4.jar:2.7.4]
	at com.example.Lab_3.Lab3Application.main(Lab3Application.java:10) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.4.jar:2.7.4]
Caused by: java.sql.SQLException: Referencing column 'user_id' and referenced column 'id' in foreign key constraint 'FKj345gk1bovqvfame88rcx7yyx' are incompatible.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	... 36 common frames omitted
"2023-12-21 09:59:23 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2023-12-21 09:59:23 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2023-12-21 09:59:24 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2023-12-21 09:59:25 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2db2bead, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@22544476, org.springframework.security.web.context.SecurityContextPersistenceFilter@2cc18c05, org.springframework.security.web.header.HeaderWriterFilter@3cf4aa7d, org.springframework.security.web.csrf.CsrfFilter@5d86bc23, org.springframework.security.web.authentication.logout.LogoutFilter@32089c8a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@a5a39bf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3777afa1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2e495c70, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@9388664, org.springframework.security.web.session.SessionManagementFilter@44ce471b, org.springframework.security.web.access.ExceptionTranslationFilter@3eb4b337, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@610949d9]
""2023-12-21 09:59:27 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
""2023-12-21 09:59:27 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
""2023-12-21 09:59:27 [restartedMain] INFO  com.example.Lab_3.Lab3Application - Started Lab3Application in 10.055 seconds (JVM running for 1327.433)
""2023-12-21 09:59:27 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
""2023-12-21 09:59:29 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
""2023-12-21 09:59:29 [Thread-63] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
""2023-12-21 09:59:29 [Thread-63] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
""2023-12-21 09:59:29 [Thread-63] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-16 - Shutdown initiated...
""2023-12-21 09:59:29 [Thread-63] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-16 - Shutdown completed.
""2023-12-21 09:59:30 [restartedMain] INFO  com.example.Lab_3.Lab3Application - Starting Lab3Application using Java 20.0.2 on NIKITA_PV with PID 12776 (C:\Users\Nikita\Desktop\Labs_3-1\Java\lab_3\Lab_3\target\classes started by Nikita in C:\Users\Nikita\Desktop\Labs_3-1\Java\lab_3\Lab_3)
""2023-12-21 09:59:30 [restartedMain] INFO  com.example.Lab_3.Lab3Application - No active profile set, falling back to 1 default profile: "default"
""2023-12-21 09:59:31 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2023-12-21 09:59:31 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 80 ms. Found 4 JPA repository interfaces.
""2023-12-21 09:59:32 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
""2023-12-21 09:59:32 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
""2023-12-21 09:59:32 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.65]
""2023-12-21 09:59:32 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
""2023-12-21 09:59:32 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2155 ms
""2023-12-21 09:59:33 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
""2023-12-21 09:59:33 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-17 - Starting...
""2023-12-21 09:59:33 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-17 - Start completed.
""2023-12-21 09:59:33 [restartedMain] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
""2023-12-21 09:59:35 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "alter table user_role add constraint FKj345gk1bovqvfame88rcx7yyx foreign key (user_id) references users (id)" via JDBC Statement
"org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table user_role add constraint FKj345gk1bovqvfame88rcx7yyx foreign key (user_id) references users (id)" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:581) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:526) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:452) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:263) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:123) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:196) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.4.jar:2.7.4]
	at com.example.Lab_3.Lab3Application.main(Lab3Application.java:10) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.4.jar:2.7.4]
Caused by: java.sql.SQLException: Referencing column 'user_id' and referenced column 'id' in foreign key constraint 'FKj345gk1bovqvfame88rcx7yyx' are incompatible.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	... 36 common frames omitted
"2023-12-21 09:59:35 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2023-12-21 09:59:35 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2023-12-21 09:59:36 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2023-12-21 09:59:36 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4812e56e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@77f4e004, org.springframework.security.web.context.SecurityContextPersistenceFilter@52866f48, org.springframework.security.web.header.HeaderWriterFilter@1f038b6a, org.springframework.security.web.csrf.CsrfFilter@4c7f0759, org.springframework.security.web.authentication.logout.LogoutFilter@5d7b57ac, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2cf40a8e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@665b4674, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6580c90e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@729aba22, org.springframework.security.web.session.SessionManagementFilter@66f7e900, org.springframework.security.web.access.ExceptionTranslationFilter@533cfaa6, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1d08767]
""2023-12-21 09:59:37 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
""2023-12-21 09:59:37 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
""2023-12-21 09:59:37 [restartedMain] INFO  com.example.Lab_3.Lab3Application - Started Lab3Application in 7.522 seconds (JVM running for 1337.442)
""2023-12-21 09:59:37 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
""2023-12-21 09:59:39 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
""2023-12-21 09:59:39 [Thread-67] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
""2023-12-21 09:59:39 [Thread-67] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
""2023-12-21 09:59:39 [Thread-67] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-17 - Shutdown initiated...
""2023-12-21 09:59:39 [Thread-67] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-17 - Shutdown completed.
""2023-12-21 09:59:40 [restartedMain] INFO  com.example.Lab_3.Lab3Application - Starting Lab3Application using Java 20.0.2 on NIKITA_PV with PID 12776 (C:\Users\Nikita\Desktop\Labs_3-1\Java\lab_3\Lab_3\target\classes started by Nikita in C:\Users\Nikita\Desktop\Labs_3-1\Java\lab_3\Lab_3)
""2023-12-21 09:59:40 [restartedMain] INFO  com.example.Lab_3.Lab3Application - No active profile set, falling back to 1 default profile: "default"
""2023-12-21 09:59:40 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2023-12-21 09:59:40 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 46 ms. Found 4 JPA repository interfaces.
""2023-12-21 09:59:41 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
""2023-12-21 09:59:41 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
""2023-12-21 09:59:41 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.65]
""2023-12-21 09:59:41 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
""2023-12-21 09:59:41 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1011 ms
""2023-12-21 09:59:41 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
""2023-12-21 09:59:41 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-18 - Starting...
""2023-12-21 09:59:41 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-18 - Start completed.
""2023-12-21 09:59:41 [restartedMain] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
""2023-12-21 09:59:41 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "alter table user_role add constraint FKj345gk1bovqvfame88rcx7yyx foreign key (user_id) references users (id)" via JDBC Statement
"org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table user_role add constraint FKj345gk1bovqvfame88rcx7yyx foreign key (user_id) references users (id)" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:581) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:526) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:452) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:263) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:123) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:196) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar:5.3.23]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.4.jar:2.7.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.4.jar:2.7.4]
	at com.example.Lab_3.Lab3Application.main(Lab3Application.java:10) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.4.jar:2.7.4]
Caused by: java.sql.SQLException: Referencing column 'user_id' and referenced column 'id' in foreign key constraint 'FKj345gk1bovqvfame88rcx7yyx' are incompatible.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648) ~[mysql-connector-java-8.0.30.jar:8.0.30]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]
	... 36 common frames omitted
"2023-12-21 09:59:41 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2023-12-21 09:59:41 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2023-12-21 09:59:42 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2023-12-21 09:59:42 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@15fe5b0c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7ad647d3, org.springframework.security.web.context.SecurityContextPersistenceFilter@31032ed0, org.springframework.security.web.header.HeaderWriterFilter@3fd8fd83, org.springframework.security.web.csrf.CsrfFilter@273882a9, org.springframework.security.web.authentication.logout.LogoutFilter@5b436406, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@f5ea91, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@373c2e9d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4f70f91c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4112f852, org.springframework.security.web.session.SessionManagementFilter@524dc3fa, org.springframework.security.web.access.ExceptionTranslationFilter@1b43af52, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@487ff04]
""2023-12-21 09:59:43 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
""2023-12-21 09:59:43 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
""2023-12-21 09:59:43 [restartedMain] INFO  com.example.Lab_3.Lab3Application - Started Lab3Application in 3.603 seconds (JVM running for 1343.267)
""2023-12-21 09:59:43 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
""2023-12-21 10:21:29 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
""2023-12-21 10:21:29 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
""2023-12-21 10:21:29 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 165 ms
""2023-12-21 10:21:30 [http-nio-8080-exec-2] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 10:21:31 [http-nio-8080-exec-2] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 10:21:31 [http-nio-8080-exec-2] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 10:21:31 [http-nio-8080-exec-2] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 10:21:31 [http-nio-8080-exec-2] INFO  freemarker.beans - Detected multiple classes with the same name, "com.example.Lab_3.models.User". Assuming it was a class-reloading. Clearing class introspection caches to release old data.
""2023-12-21 10:21:36 [http-nio-8080-exec-9] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 10:21:36 [http-nio-8080-exec-9] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 10:21:38 [http-nio-8080-exec-3] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 10:21:38 [http-nio-8080-exec-3] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 10:21:53 [http-nio-8080-exec-1] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 10:21:53 [http-nio-8080-exec-1] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 10:21:53 [http-nio-8080-exec-1] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 10:21:53 [http-nio-8080-exec-1] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 10:22:10 [http-nio-8080-exec-2] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(Product com.example.Lab_3.services.ProductService.getProductById(Long))
""2023-12-21 10:22:10 [http-nio-8080-exec-2] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(Product com.example.Lab_3.services.ProductService.getProductById(Long))
""2023-12-21 10:22:10 [http-nio-8080-exec-2] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 10:22:10 [http-nio-8080-exec-2] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 10:22:16 [http-nio-8080-exec-5] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 10:22:16 [http-nio-8080-exec-5] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 10:22:16 [http-nio-8080-exec-5] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 10:22:16 [http-nio-8080-exec-5] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 10:22:20 [http-nio-8080-exec-4] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(void com.example.Lab_3.services.ProductService.addtoorder(Order,Long,Principal))
""2023-12-21 10:22:20 [http-nio-8080-exec-4] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(void com.example.Lab_3.services.ProductService.addtoorder(Order,Long,Principal))
""2023-12-21 10:22:20 [http-nio-8080-exec-3] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 10:22:20 [http-nio-8080-exec-3] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 10:22:20 [http-nio-8080-exec-3] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 10:22:20 [http-nio-8080-exec-3] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 10:22:21 [http-nio-8080-exec-4] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(void com.example.Lab_3.services.ProductService.addtoorder(Order,Long,Principal))
""2023-12-21 10:22:21 [http-nio-8080-exec-4] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(void com.example.Lab_3.services.ProductService.addtoorder(Order,Long,Principal))
""2023-12-21 10:22:21 [http-nio-8080-exec-3] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 10:22:21 [http-nio-8080-exec-3] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 10:22:21 [http-nio-8080-exec-3] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 10:22:21 [http-nio-8080-exec-3] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 10:22:23 [http-nio-8080-exec-4] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 10:22:23 [http-nio-8080-exec-4] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 10:22:28 [http-nio-8080-exec-5] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 10:22:28 [http-nio-8080-exec-5] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 10:22:32 [http-nio-8080-exec-6] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 10:22:32 [http-nio-8080-exec-6] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 10:22:42 [http-nio-8080-exec-6] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 10:22:42 [http-nio-8080-exec-6] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 10:22:42 [http-nio-8080-exec-6] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 10:22:42 [http-nio-8080-exec-6] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 10:22:44 [http-nio-8080-exec-2] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 10:22:44 [http-nio-8080-exec-2] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 10:22:46 [http-nio-8080-exec-4] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 10:22:46 [http-nio-8080-exec-4] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 10:22:54 [http-nio-8080-exec-9] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 10:22:54 [http-nio-8080-exec-9] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 10:22:54 [http-nio-8080-exec-9] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 10:22:54 [http-nio-8080-exec-9] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(Page com.example.Lab_3.services.ProductService.listProducts(String,String,Pageable))
""2023-12-21 10:22:58 [http-nio-8080-exec-10] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 10:22:58 [http-nio-8080-exec-10] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 10:23:18 [http-nio-8080-exec-8] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 10:23:18 [http-nio-8080-exec-8] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(User com.example.Lab_3.services.ProductService.getUserByPrincipal(Principal))
""2023-12-21 10:23:18 [http-nio-8080-exec-8] INFO  c.example.Lab_3.AOP.LogProductAspect - before execution(List com.example.Lab_3.services.ProductService.listProductsforall())
""2023-12-21 10:23:18 [http-nio-8080-exec-8] INFO  c.example.Lab_3.AOP.LogProductAspect - after execution(List com.example.Lab_3.services.ProductService.listProductsforall())
""2023-12-21 10:23:30 [http-nio-8080-exec-5] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 10:23:30 [http-nio-8080-exec-5] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 10:23:31 [http-nio-8080-exec-2] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(List com.example.Lab_3.services.UserService.list())
""2023-12-21 10:23:31 [http-nio-8080-exec-2] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(List com.example.Lab_3.services.UserService.list())
""2023-12-21 10:23:31 [http-nio-8080-exec-2] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 10:23:31 [http-nio-8080-exec-2] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 10:23:41 [http-nio-8080-exec-5] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(List com.example.Lab_3.services.UserService.list())
""2023-12-21 10:23:41 [http-nio-8080-exec-5] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(List com.example.Lab_3.services.UserService.list())
""2023-12-21 10:23:41 [http-nio-8080-exec-5] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 10:23:41 [http-nio-8080-exec-5] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 10:23:43 [http-nio-8080-exec-8] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 10:23:43 [http-nio-8080-exec-8] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 10:23:48 [http-nio-8080-exec-10] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(List com.example.Lab_3.services.UserService.list())
""2023-12-21 10:23:48 [http-nio-8080-exec-10] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(List com.example.Lab_3.services.UserService.list())
""2023-12-21 10:23:48 [http-nio-8080-exec-10] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 10:23:48 [http-nio-8080-exec-10] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 10:23:50 [http-nio-8080-exec-3] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(void com.example.Lab_3.services.UserService.banUser(Long))
""2023-12-21 10:23:50 [http-nio-8080-exec-3] INFO  c.example.Lab_3.services.UserService - Ban user with id = 2; email: commonUser@gmail.com
""2023-12-21 10:23:50 [http-nio-8080-exec-3] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(void com.example.Lab_3.services.UserService.banUser(Long))
""2023-12-21 10:23:50 [http-nio-8080-exec-6] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(List com.example.Lab_3.services.UserService.list())
""2023-12-21 10:23:50 [http-nio-8080-exec-6] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(List com.example.Lab_3.services.UserService.list())
""2023-12-21 10:23:50 [http-nio-8080-exec-6] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 10:23:50 [http-nio-8080-exec-6] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 10:24:01 [http-nio-8080-exec-8] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(void com.example.Lab_3.services.UserService.banUser(Long))
""2023-12-21 10:24:01 [http-nio-8080-exec-8] INFO  c.example.Lab_3.services.UserService - Unban user with id = 2; email: commonUser@gmail.com
""2023-12-21 10:24:01 [http-nio-8080-exec-8] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(void com.example.Lab_3.services.UserService.banUser(Long))
""2023-12-21 10:24:01 [http-nio-8080-exec-2] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(List com.example.Lab_3.services.UserService.list())
""2023-12-21 10:24:01 [http-nio-8080-exec-2] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(List com.example.Lab_3.services.UserService.list())
""2023-12-21 10:24:01 [http-nio-8080-exec-2] INFO  com.example.Lab_3.AOP.LogUserAspect - before execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 10:24:01 [http-nio-8080-exec-2] INFO  com.example.Lab_3.AOP.LogUserAspect - after execution(User com.example.Lab_3.services.UserService.getUserByPrincipal(Principal))
""2023-12-21 10:28:29 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
""2023-12-21 10:28:29 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-18 - Shutdown initiated...
""2023-12-21 10:28:29 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-18 - Shutdown completed.
"